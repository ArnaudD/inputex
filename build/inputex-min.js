/*
Distributed under the MIT License :
Visit http://javascript.neyric.com/inputex for more informations

Copyright (c) 2007-2008, Eric Abouaf <neyric at via.ecp.fr>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
(function(){var B=YAHOO.lang;YAHOO.inputEx=function(C){var D=null;if(C.type){D=YAHOO.inputEx.getFieldClass(C.type);if(D===null){D=YAHOO.inputEx.StringField}}else{D=C.fieldClass?C.fieldClass:A.StringField}var E=new D(C.inputParams);if(C.flatten){E._flatten=true}return E};var A=YAHOO.inputEx;B.augmentObject(A,{VERSION:"0.2.0",spacerUrl:"images/space.gif",stateEmpty:"empty",stateRequired:"required",stateValid:"valid",stateInvalid:"invalid",messages:{required:"This field is required",invalid:"This field is invalid",valid:"This field is valid",defaultDateFormat:"m/d/Y",months:["January","February","Mars","April","May","June","July","August","September","October","November","December"]},widget:{},regexps:{email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ipv4:/^(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)(?:\.(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)){3}$/,url:/^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(([0-9]{1,5})?\/.*)?$/i,password:/^[0-9a-zA-Z\x20-\x7E]*$/},typeClasses:{},registerType:function(C,D){if(!B.isString(C)){throw new Error("inputEx.registerType: first argument must be a string")}if(!B.isFunction(D)){throw new Error("inputEx.registerType: second argument must be a function")}this.typeClasses[C]=D},getFieldClass:function(C){if(B.isFunction(this.typeClasses[C])){return this.typeClasses[C]}return null},getType:function(C){for(var D in this.typeClasses){if(this.typeClasses.hasOwnProperty(D)){if(this.typeClasses[D]==C){return D}}}return null},buildField:function(C){return A(C)},sn:function(F,E,C){if(!F){return }if(E){for(var D in E){var H=E[D];if(B.isFunction(H)){continue}if(D=="className"){D="class";F.className=H}if(H!==F.getAttribute(D)){try{if(H===false){F.removeAttribute(D)}else{F.setAttribute(D,H)}}catch(G){}}}}if(C){for(var D in C){if(B.isFunction(C[D])){continue}if(F.style[D]!=C[D]){F.style[D]=C[D]}}}},cn:function(C,E,D,G){var F=document.createElement(C);this.sn(F,E,D);if(G){F.innerHTML=G}return F},indexOf:function(F,C){var D=C.length,E;for(E=0;E<D;E++){if(C[E]==F){return E}}return -1},compactArray:function(C){var F=[],D=C.length,E;for(E=0;E<D;E++){if(!B.isNull(C[E])&&!B.isUndefined(C[E])){F.push(C[E])}}return F}})})();var inputEx=YAHOO.inputEx;(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.visus={trimpath:function(E,F){if(!TrimPath){alert("TrimPath is not on the page. Please load inputex/lib/trimpath-template.js");return }var D=TrimPath.parseTemplate(E.template);var C=D.process(F);return C},func:function(C,D){return C.func(D)},dump:function(C,D){return B.dump(D)}};A.renderVisu=function(I,E,F){var C=I||{};var J=C.visuType||"dump";if(!A.visus.hasOwnProperty(J)){throw new Error("inputEx: no visu for visuType: "+J)}var G=A.visus[J];if(!B.isFunction(G)){throw new Error("inputEx: no visu for visuType: "+J)}var K=null;try{K=G(C,E)}catch(H){throw new Error("inputEx: error while running visu "+J+" : "+H.message);return }var D=null;if(F){if(B.isString(F)){D=YAHOO.util.Dom.get(F)}else{D=F}}if(D){if(YAHOO.lang.isObject(K)&&K.tagName){D.innerHTML="";D.appendChild(K)}else{D.innerHTML=K}}return K}})();(function(){var A=YAHOO.inputEx;A.JsonSchema={schemaToInputEx:function(H,B){var E={inputParams:{label:B,name:B}};if(H.type){var G=H.type;if(YAHOO.lang.isArray(G)){if(G.length==0||(G.length==1&&G[0]=="any")){G="array"}else{G=G[0]}}else{if(YAHOO.lang.isObject(G)){console.log("type is an object !!")}}E.type=G;if(G=="array"){E.type="list"}else{if(G=="object"){E.type="group";var F={fields:[]};if(B){F.name=B}for(var D in H.properties){if(H.properties.hasOwnProperty(D)){F.fields.push(this.schemaToInputEx(H.properties[D],D))}}E.inputParams=F}else{if(G=="string"&&(!!H.options)){E.type="select";E.inputParams.selectOptions=[];E.inputParams.selectValues=[];for(var C=0;C<H.options.length;C++){var I=H.options[C];E.inputParams.selectOptions.push(I.label);E.inputParams.selectValues.push(I.value)}}else{if(G=="string"){if(H.format){if(H.format=="html"){E.type="html"}else{if(H.format=="date"){E.type="date";E.inputParams.tooltipIcon=true}}}}}}}}else{if(H["$ref"]){throw new Error("$ref not implemented yet...")}}return E},formFromInstance:function(E){if(!E||!E["$schema"]){throw new Error("Invalid json schema instance object. Object must have a '$schema' property.")}var B=YAHOO.inputEx.JsonSchema.schemaToInputEx(E["$schema"]);for(var C=0;C<B.fields.length;C++){var D=B.fields[C].inputParams.name;B.fields[C].inputParams.value=E[D]}return B},inputExToSchema:function(B){}}})();(function(){var C=YAHOO.inputEx,B=YAHOO.util.Dom,D=YAHOO.lang,A=YAHOO.util;C.Field=function(E){this.options=E||{};this.setOptions();this.render();if(!D.isUndefined(this.options.value)){this.setValue(this.options.value)}this.updatedEvt=new A.CustomEvent("updated",this);this.initEvents();this.setClassFromState();if(this.options.parentEl){if(D.isString(this.options.parentEl)){B.get(this.options.parentEl).appendChild(this.getEl())}else{this.options.parentEl.appendChild(this.getEl())}}};C.Field.prototype={setOptions:function(){this.options.messages=this.options.messages||{};this.options.messages.required=this.options.messages.required||C.messages.required;this.options.messages.invalid=this.options.messages.invalid||C.messages.invalid;this.options.messages.valid=this.options.messages.valid||C.messages.valid;this.options.className=this.options.className||"inputEx-Field";this.options.required=this.options.required?true:false;this.options.showMsg=D.isUndefined(this.options.showMsg)?false:this.options.showMsg},render:function(){this.divEl=C.cn("div",{className:"inputEx-fieldWrapper"});if(this.options.id){this.divEl.id=this.options.id}if(this.options.label){this.labelDiv=C.cn("div",{className:"inputEx-label"});this.labelEl=C.cn("label");this.labelEl.appendChild(document.createTextNode(this.options.label));this.labelDiv.appendChild(this.labelEl);this.divEl.appendChild(this.labelDiv)}this.fieldContainer=C.cn("div",{className:this.options.className});this.renderComponent();if(this.options.description){this.fieldContainer.appendChild(C.cn("div",{className:"inputEx-description"},null,this.options.description))}this.divEl.appendChild(this.fieldContainer);this.divEl.appendChild(C.cn("div",null,{clear:"both"}," "))},fireUpdatedEvt:function(){if(this.validate()){var E=this;setTimeout(function(){E.updatedEvt.fire(E.getValue(),E)},50)}},renderComponent:function(){},getEl:function(){return this.divEl},initEvents:function(){},getValue:function(){},setValue:function(E){},setClassFromState:function(){if(this.previousState){B.removeClass(this.divEl,"inputEx-"+this.previousState)}var E=this.getState();if(!(E=="empty"&&B.hasClass(this.divEl,"inputEx-focused"))){B.addClass(this.divEl,"inputEx-"+E)}if(this.options.showMsg){this.displayMessage(this.getStateString(E))}this.previousState=E},getStateString:function(E){if(E==C.stateRequired){return this.options.messages.required}else{if(E==C.stateInvalid){return this.options.messages.invalid}else{return""}}},getState:function(){if(this.isEmpty()){return this.options.required?C.stateRequired:C.stateEmpty}return this.validate()?C.stateValid:C.stateInvalid},validate:function(){return true},onFocus:function(F){var E=this.getEl();B.removeClass(E,"inputEx-empty");B.addClass(E,"inputEx-focused")},onBlur:function(E){B.removeClass(this.getEl(),"inputEx-focused");this.setClassFromState()},onChange:function(E){this.setClassFromState();this.fireUpdatedEvt()},close:function(){},disable:function(){},enable:function(){},focus:function(){},destroy:function(){var E=this.getEl();if(B.inDocument(E)){E.parentEl.removeChild(E)}A.Event.purgeElement(E,true)},displayMessage:function(E){if(!this.fieldContainer){return }if(!this.msgEl){this.msgEl=C.cn("div",{className:"inputEx-message"});this.divEl.insertBefore(this.msgEl,this.fieldContainer.nextSibling)}this.msgEl.innerHTML=E},show:function(){this.divEl.style.display=""},hide:function(){this.divEl.style.display="none"},clear:function(){this.setValue(this.options.value||"")},isEmpty:function(){return this.getValue()===""}}})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,B=YAHOO.util.Dom,A=YAHOO.util.Event;C.Group=function(E){C.Group.superclass.constructor.call(this,E);if(this.hasInteractions){for(var F=0;F<this.inputs.length;F++){this.runInteractions(this.inputs[F],this.inputs[F].getValue())}}};D.extend(C.Group,C.Field,{setOptions:function(){this.options.legend=this.options.legend||"";this.inputConfigs=this.options.fields;this.options.collapsible=D.isUndefined(this.options.collapsible)?false:this.options.collapsible;this.options.disabled=D.isUndefined(this.options.disabled)?false:this.options.disabled;this.inputs=[];this.inputsNames={}},render:function(){this.divEl=C.cn("div",{className:"inputEx-Group"});if(this.options.id){this.divEl.id=this.options.id}this.renderFields(this.divEl);if(this.options.disabled){this.disable()}},renderFields:function(G){this.fieldset=C.cn("fieldset");this.legend=C.cn("legend",{className:"inputEx-Group-legend"});if(this.options.collapsible){var I=C.cn("div",{className:"inputEx-Group-collapseImg"},null," ");this.legend.appendChild(I);C.sn(this.fieldset,{className:"inputEx-Expanded"})}if(!YAHOO.lang.isUndefined(this.options.legend)&&this.options.legend!==""){this.legend.appendChild(document.createTextNode(" "+this.options.legend))}if(this.options.collapsible||(!YAHOO.lang.isUndefined(this.options.legend)&&this.options.legend!=="")){this.fieldset.appendChild(this.legend)}for(var F=0;F<this.options.fields.length;F++){var E=this.options.fields[F];var H=this.renderField(E);this.fieldset.appendChild(H.getEl())}G.appendChild(this.fieldset)},renderField:function(F){var E=C.buildField(F);this.inputs.push(E);if(E.options.name){this.inputsNames[E.options.name]=E}if(!this.hasInteractions&&F.interactions){this.hasInteractions=true}E.updatedEvt.subscribe(this.onChange,this,true);return E},initEvents:function(){if(this.options.collapsible){A.addListener(this.legend,"click",this.toggleCollapse,this,true)}},toggleCollapse:function(){if(B.hasClass(this.fieldset,"inputEx-Expanded")){B.replaceClass(this.fieldset,"inputEx-Expanded","inputEx-Collapsed")}else{B.replaceClass(this.fieldset,"inputEx-Collapsed","inputEx-Expanded")}},validate:function(){for(var F=0;F<this.inputs.length;F++){var E=this.inputs[F];var G=E.getState();if(G==C.stateRequired||G==C.stateInvalid){return false}}return true},enable:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].enable()}},disable:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].disable()}},setValue:function(G){if(!G){return }for(var F=0;F<this.inputs.length;F++){var H=this.inputs[F];var E=H.options.name;if(E&&!D.isUndefined(G[E])){H.setValue(G[E])}else{H.clear()}H.setClassFromState()}},getValue:function(){var G={};for(var F=0;F<this.inputs.length;F++){var E=this.inputs[F].getValue();if(this.inputs[F].options.name){if(this.inputs[F]._flatten&&D.isObject(E)){D.augmentObject(G,E)}else{G[this.inputs[F].options.name]=E}}}return G},close:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].close()}},focus:function(){if(this.inputs.length>0){this.inputs[0].focus()}},getFieldByName:function(E){if(!this.inputsNames.hasOwnProperty(E)){return null}return this.inputsNames[E]},onChange:function(F,G){var H=G[0];var E=G[1];this.runInteractions(E,H);this.fireUpdatedEvt()},runAction:function(E){var F=this.getFieldByName(E.name);if(YAHOO.lang.isFunction(F[E.action])){F[E.action].call(F)}else{throw new Error("action "+E.action+" is not a valid action for field "+E.name)}},runInteractions:function(F,J){var G=C.indexOf(F,this.inputs);var I=this.options.fields[G];if(YAHOO.lang.isUndefined(I.interactions)){return }var K=I.interactions;for(var H=0;H<K.length;H++){var E=K[H];if(E.valueTrigger===J){for(var H=0;H<E.actions.length;H++){this.runAction(E.actions[H])}}}},clear:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].clear()}}});C.registerType("group",C.Group)})();(function(){var B=YAHOO.util,D=YAHOO.lang,A=YAHOO.util.Event,C=YAHOO.inputEx;C.Form=function(E){C.Form.superclass.constructor.call(this,E)};D.extend(C.Form,C.Group,{setOptions:function(){C.Form.superclass.setOptions.call(this);this.buttons=[];this.options.buttons=this.options.buttons||[];if(this.options.ajax){this.options.ajax.method=this.options.ajax.method||"POST";this.options.ajax.uri=this.options.ajax.uri||"default.php";this.options.ajax.callback=this.options.ajax.callback||{};this.options.ajax.callback.scope=this.options.ajax.callback.scope||this;this.options.ajax.showMask=D.isUndefined(this.options.ajax.showMask)?false:this.options.ajax.showMask}},render:function(){this.divEl=C.cn("div",{className:"inputEx-Group"});this.form=C.cn("form",{method:this.options.method||"POST",action:this.options.action||"",className:this.options.className||"inputEx-Form"});this.divEl.appendChild(this.form);this.form.setAttribute("autocomplete","off");if(this.options.formName){this.form.name=this.options.formName}this.renderFields(this.form);this.renderButtons();if(this.options.disabled){this.disable()}},renderButtons:function(){this.buttonDiv=C.cn("div",{className:"inputEx-Form-buttonBar"});var G,E;for(var F=0;F<this.options.buttons.length;F++){G=this.options.buttons[F];E=C.cn("input",{type:G.type,value:G.value});if(G.onClick){E.onclick=G.onClick}this.buttons.push(E);this.buttonDiv.appendChild(E)}this.form.appendChild(this.buttonDiv)},initEvents:function(){C.Form.superclass.initEvents.call(this);A.addListener(this.form,"submit",this.options.onSubmit||this.onSubmit,this,true)},onSubmit:function(E){if(!this.validate()){A.stopEvent(E)}if(this.options.ajax){A.stopEvent(E);this.asyncRequest()}},asyncRequest:function(){if(this.options.ajax.showMask){this.showMask()}var E="value="+D.JSON.stringify(this.getValue());B.Connect.asyncRequest(this.options.ajax.method,this.options.ajax.uri,{success:function(F){if(this.options.ajax.showMask){this.hideMask()}if(D.isFunction(this.options.ajax.callback.success)){this.options.ajax.callback.success.call(this.options.ajax.callback.scope,F)}},failure:function(F){if(this.options.ajax.showMask){this.hideMask()}if(D.isFunction(this.options.ajax.callback.failure)){this.options.ajax.callback.failure.call(this.options.ajax.callback.scope,F)}},scope:this},E)},renderMask:function(){if(this.maskRendered){return }Dom.setStyle(this.divEl,"position","relative");this.formMask=C.cn("div",{className:"inputEx-Form-Mask"},{display:"none",width:Dom.getStyle(this.divEl,"width"),height:Dom.getStyle(this.divEl,"height")},"<div/><center><br /><img src='../images/spinner.gif'/><br /><span>Envoi en cours...</span></center>");this.divEl.appendChild(this.formMask);this.maskRendered=true},showMask:function(){this.renderMask();this.formMask.style.display=""},hideMask:function(){this.formMask.style.display="none"},enable:function(){C.Form.superclass.enable.call(this);for(var E=0;E<this.buttons.length;E++){this.buttons[E].disabled=false}},disable:function(){C.Form.superclass.disable.call(this);for(var E=0;E<this.buttons.length;E++){this.buttons[E].disabled=true}},});C.registerType("form",C.Form)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Dom;B.CombineField=function(D){B.CombineField.superclass.constructor.call(this,D)};C.extend(B.CombineField,B.Field,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-CombineField";B.CombineField.superclass.setOptions.call(this)},renderComponent:function(){this.inputs=[];this.appendSeparator(0);if(!this.options.fields){return }for(var D=0;D<this.options.fields.length;D++){var E=this.renderField(this.options.fields[D]);E.divEl.removeChild(E.divEl.childNodes[E.divEl.childNodes.length-1]);YAHOO.util.Dom.setStyle(E.getEl(),"float","left");this.fieldContainer.appendChild(E.getEl());this.appendSeparator(D+1)}},appendSeparator:function(E){if(this.options.separators&&this.options.separators[E]){var D=B.cn("div",{className:"inputEx-CombineField-separator"},null,this.options.separators[E]);this.fieldContainer.appendChild(D)}},renderField:function(E){var D=B.buildField(E);this.inputs.push(D);D.updatedEvt.subscribe(this.onChange,this,true);return D},validate:function(){for(var D=0;D<this.inputs.length;D++){if(!this.inputs[D].validate()){return false}}return true},setValue:function(D){for(var E=0;E<this.inputs.length;E++){this.inputs[E].setValue(D[E])}},getValue:function(){var D=[];for(var E=0;E<this.inputs.length;E++){D.push(this.inputs[E].getValue())}return D},setClassFromState:function(){B.CombineField.superclass.setClassFromState.call(this);for(var D=0;D<this.inputs.length;D++){this.inputs[D].setClassFromState()}},clear:function(){for(var D=0;D<this.inputs.length;D++){this.inputs[D].clear()}}});B.registerType("combine",B.CombineField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.StringField=function(E){C.StringField.superclass.constructor.call(this,E)};D.extend(C.StringField,C.Field,{renderComponent:function(){this.wrapEl=C.cn("div",{className:"inputEx-StringField-wrapper"});var E={};E.type="text";E.id=YAHOO.util.Dom.generateId();if(this.options.size){E.size=this.options.size}if(this.options.name){E.name=this.options.name}if(this.options.readonly){E.readonly="readonly"}if(this.options.maxLength){E.maxLength=this.options.maxLength}this.el=C.cn("input",E);this.wrapEl.appendChild(this.el);this.fieldContainer.appendChild(this.wrapEl)},initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true);A.addListener(this.el,"focus",this.onFocus,this,true);A.addListener(this.el,"blur",this.onBlur,this,true);A.addListener(this.el,"keypress",this.onKeyPress,this,true);A.addListener(this.el,"keyup",this.onKeyUp,this,true)},getValue:function(){return(this.options.typeInvite&&this.el.value==this.options.typeInvite)?"":this.el.value},setValue:function(E){this.el.value=E},validate:function(){var F=this.getValue();if(F==""){return true}var E=true;if(this.options.regexp){E=E&&F.match(this.options.regexp)}if(this.options.minLength){E=E&&F.length>=this.options.minLength}return E},disable:function(){this.el.disabled=true},enable:function(){this.el.disabled=false},focus:function(){if(!!this.el&&D.isFunction(this.el.focus)){this.el.focus()}},getState:function(){var E=this.getValue();if(E===""){return this.options.required?C.stateRequired:C.stateEmpty}return this.validate()?C.stateValid:C.stateInvalid},getStateString:function(E){if(E==C.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength){return C.messages.stringTooShort[0]+this.options.minLength+C.messages.stringTooShort[1]}return C.StringField.superclass.getStateString.call(this,E)},setClassFromState:function(){C.StringField.superclass.setClassFromState.call(this);if(this.options.typeInvite){if(!B.hasClass(this.divEl,"inputEx-focused")){if(this.previousState==C.stateEmpty||this.previousState==C.stateRequired){B.addClass(this.divEl,"inputEx-typeInvite");this.el.value=this.options.typeInvite}}}},onFocus:function(E){C.StringField.superclass.onFocus.call(this,E);if(this.options.typeInvite){if(B.hasClass(this.divEl,"inputEx-typeInvite")){this.el.value="";this.previousState=null;B.removeClass(this.divEl,"inputEx-typeInvite")}}},onKeyPress:function(E){},onKeyUp:function(E){D.later(0,this,this.setClassFromState)}});C.messages.stringTooShort=["This field should contain at least "," numbers or caracters"];C.registerType("string",C.StringField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.AutoComplete=function(E){C.AutoComplete.superclass.constructor.call(this,E)};D.extend(C.AutoComplete,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-AutoComplete";C.AutoComplete.superclass.setOptions.call(this)},renderComponent:function(){this.wrapEl=C.cn("div",{className:"inputEx-StringField-wrapper"});var E={type:"text",id:YAHOO.util.Dom.generateId()};if(this.options.size){E.size=this.options.size}if(this.options.readonly){E.readonly="readonly"}if(this.options.maxLength){E.maxLength=this.options.maxLength}this.el=C.cn("input",E);var F={type:"hidden",value:""};if(this.options.name){F.name=this.options.name}this.hiddenEl=C.cn("input",F);this.wrapEl.appendChild(this.el);this.wrapEl.appendChild(this.hiddenEl);this.fieldContainer.appendChild(this.wrapEl);this.listEl=C.cn("div",{id:B.generateId()});this.fieldContainer.appendChild(this.listEl);A.onAvailable([this.el,this.listEl],this.buildAutocomplete,this,true)},buildAutocomplete:function(){if(!this._nElementsReady){this._nElementsReady=0}this._nElementsReady++;if(this._nElementsReady!=2){return }this.oAutoComp=new YAHOO.widget.AutoComplete(this.el.id,this.listEl.id,this.options.datasource,this.options.autoComp);this.oAutoComp.itemSelectEvent.subscribe(this.itemSelectHandler,this,true)},itemSelectHandler:function(G,F){var E=F[2];this.setValue(this.options.returnValue?this.options.returnValue(E):E[0]);this.fireUpdatedEvt()},onChange:function(E){this.setClassFromState();YAHOO.lang.later(50,this,function(){if(this.el.value==""){this.setValue("");this.fireUpdatedEvt()}})},setValue:function(E){this.hiddenEl.value=E},getValue:function(){return this.hiddenEl.value}});C.registerType("autocomplete",C.AutoComplete)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.CheckBox=function(E){C.CheckBox.superclass.constructor.call(this,E)};D.extend(C.CheckBox,C.Field,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-CheckBox";C.CheckBox.superclass.setOptions.call(this);this.sentValues=this.options.sentValues||[true,false];this.checkedValue=this.sentValues[0];this.uncheckedValue=this.sentValues[1]},renderComponent:function(){var E=B.generateId();this.el=C.cn("input",{id:E,type:"checkbox",checked:(this.options.checked===false)?false:true});this.fieldContainer.appendChild(this.el);this.rightLabelEl=C.cn("label",{"for":E,className:"inputEx-CheckBox-rightLabel"},null,this.options.rightLabel||"");this.fieldContainer.appendChild(this.rightLabelEl);this.hiddenEl=C.cn("input",{type:"hidden",name:this.options.name||"",value:this.el.checked?this.checkedValue:this.uncheckedValue});this.fieldContainer.appendChild(this.hiddenEl)},initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true);if(YAHOO.env.ua.ie){A.addListener(this.el,"click",function(){YAHOO.lang.later(10,this,this.fireUpdatedEvt)},this,true)}A.addListener(this.el,"focus",this.onFocus,this,true);A.addListener(this.el,"blur",this.onBlur,this,true)},onChange:function(E){this.hiddenEl.value=this.el.checked?this.checkedValue:this.uncheckedValue;if(!YAHOO.env.ua.ie){C.CheckBox.superclass.onChange.call(this,E)}},getValue:function(){return this.el.checked?this.checkedValue:this.uncheckedValue},setValue:function(E){if(E===this.checkedValue){this.hiddenEl.value=E;this.el.checked=true}else{if(E!==this.uncheckedValue&&D.isObject(console)&&D.isFunction(console.log)){console.log("inputEx.CheckBox: value is *"+E+"*, schould be in ["+this.checkedValue+","+this.uncheckedValue+"]")}this.hiddenEl.value=E;this.el.checked=false}}});C.registerType("boolean",C.CheckBox)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.ColorField=function(E){C.ColorField.superclass.constructor.call(this,E)};D.extend(C.ColorField,C.Field,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-ColorField";C.ColorField.superclass.setOptions.call(this)},renderComponent:function(){this.el=C.cn("input",{type:"hidden",name:this.options.name||"",value:this.options.value||"#DD7870"});this.colorEl=C.cn("div",{className:"inputEx-ColorField-button"},{backgroundColor:this.el.value});this.renderPopUp();this.fieldContainer.appendChild(this.el);this.fieldContainer.appendChild(this.colorEl)},initEvents:function(){A.addListener(this.colorEl,"click",this.toggleColorPopUp,this,true);A.addListener(this.colorEl,"blur",this.closeColorPopUp,this,true)},toggleColorPopUp:function(){if(this.visible){this.colorPopUp.style.display="none"}else{this.colorPopUp.style.display="block"}this.visible=!this.visible},close:function(){this.closeColorPopUp()},closeColorPopUp:function(){this.colorPopUp.style.display="none";this.visible=false},renderPopUp:function(){this.displayTitle=this.options.displayTitle||false;var E=this.options.auto||1;this.colors=this.options.colors||this.setDefaultColors(E);this.length=this.colors.length;this.visible=false;this.colorPopUp=C.cn("div",{className:"inputEx-ColorField-popup"},{display:"none"});if(this.displayTitle){var F=C.cn("div",null,null,C.messages.selectColor);this.colorPopUp.appendChild(F)}this.colorPopUp.appendChild(this.renderColorGrid());this.fieldContainer.appendChild(this.colorPopUp)},setValue:function(E){this.el.value=E;B.setStyle(this.colorEl,"background-color",this.el.value)},setDefaultColors:function(E){return C.ColorField.palettes[E-1]},renderColorGrid:function(){var F=C.cn("div");for(var E=0;E<this.length;E++){var G=C.cn("div",{className:"inputEx-ColorField-square"},{backgroundColor:"#"+this.colors[E]});A.addListener(G,"mousedown",this.onColorClick,this,true);F.appendChild(G)}return F},onColorClick:function(G){var F=A.getTarget(G);A.stopEvent(G);var E=B.getStyle(F,"background-color");B.setStyle(this.colorEl,"background-color",E);var H=function(I){var K=function(Q){var N=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");var M=16;var P=parseInt(Q,10);var O;var L="";if(!isNaN(P)){if(P==""){return"00"}while(P>0){O=0;while(P/Math.pow(M,O++)>=M){}L+=N[Math.floor(P/Math.pow(M,O-1))];if(P%M==0){L+="0"}P=(P%Math.pow(M,O-1))}if(L.length==1){return"0"+L}return L}else{return 0}};var J=I.split(/([(,)])/);return"#"+K(J[2])+K(J[4])+K(J[6])};this.el.value=H(E);this.visible=!this.visible;this.colorPopUp.style.display="none";this.fireUpdatedEvt()},getValue:function(){return this.el.value}});C.messages.selectColor="Select a color :";C.ColorField.palettes=[["FFEA99","FFFF66","FFCC99","FFCAB2","FF99AD","FFD6FF","FF6666","E8EEF7","ADC2FF","ADADFF","CCFFFF","D6EAAD","B5EDBC","CCFF99"],["55AAFF","FFAAFF","FF7FAA","FF0202","FFD42A","F9F93B","DF8181","FEE3E2","D47FFF","2AD4FF","2AFFFF","AAFFD4"],["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","F0F0F0"]];C.registerType("color",C.ColorField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.DateField=function(E){if(!E){var E={}}if(!E.messages){E.messages={}}if(!E.dateFormat){E.dateFormat=C.messages.defaultDateFormat}E.messages.invalid=C.messages.invalidDate;C.DateField.superclass.constructor.call(this,E)};D.extend(C.DateField,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-DateField";C.DateField.superclass.setOptions.call(this)},validate:function(){var L=this.el.value;var M=L.split("/");if(M.length!=3){return false}if(isNaN(parseInt(M[0]))||isNaN(parseInt(M[1]))||isNaN(parseInt(M[2]))){return false}var I=this.options.dateFormat.split("/");var E=C.indexOf("Y",I);if(M[E].length!=4){return false}var K=parseInt(M[C.indexOf("d",I)],10);var F=parseInt(M[E],10);var H=parseInt(M[C.indexOf("m",I)],10)-1;var J=new Date(F,H,K);var G=J.getFullYear();return((J.getDate()==K)&&(J.getMonth()==H)&&(G==F))},setValue:function(H){if(H===""){this.el.value="";return }var G="";if(H instanceof Date){G=this.options.dateFormat.replace("Y",H.getFullYear());var E=H.getMonth()+1;G=G.replace("m",((E<10)?"0":"")+E);var F=H.getDate();G=G.replace("d",((F<10)?"0":"")+F)}else{G=H}this.el.value=G},getValue:function(){if(this.el.value===""){return""}var F=this.el.value.split("/");var G=this.options.dateFormat.split("/");var I=parseInt(F[C.indexOf("d",G)],10);var H=parseInt(F[C.indexOf("Y",G)],10);var E=parseInt(F[C.indexOf("m",G)],10)-1;return(new Date(H,E,I))}});C.messages.invalidDate="Invalid date, ex: 03/27/2008";C.registerType("date",C.DateField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.DatePickerField=function(E){C.DatePickerField.superclass.constructor.call(this,E)};D.extend(C.DatePickerField,C.DateField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-DateField inputEx-DatePickerField";C.DatePickerField.superclass.setOptions.call(this);this.options.calendar=this.options.calendar||C.messages.defautCalendarOpts;this.options.readonly=true},renderComponent:function(){C.DatePickerField.superclass.renderComponent.call(this);this.oOverlay=new YAHOO.widget.Overlay(B.generateId(),{visible:false});this.oOverlay.setBody(" ");this.oOverlay.body.id=B.generateId();this.button=new YAHOO.widget.Button({type:"menu",menu:this.oOverlay,label:"&nbsp;&nbsp;&nbsp;&nbsp;"});this.button.appendTo(this.wrapEl);this.oOverlay.render(this.wrapEl);this.button.on("click",this.renderCalendar,this,true)},renderCalendar:function(){var F=B.generateId();this.calendar=new YAHOO.widget.Calendar(F,this.oOverlay.body.id,this.options.calendar);B.setStyle(this.oOverlay.body.parentNode,"position","absolute");if(C.messages.shortMonths){this.calendar.cfg.setProperty("MONTHS_SHORT",C.messages.shortMonths)}if(C.messages.months){this.calendar.cfg.setProperty("MONTHS_LONG",C.messages.months)}if(C.messages.weekdays1char){this.calendar.cfg.setProperty("WEEKDAYS_1CHAR",C.messages.weekdays1char)}if(C.messages.shortWeekdays){this.calendar.cfg.setProperty("WEEKDAYS_SHORT",C.messages.shortWeekdays)}var E=function(){var I=B.get(F).tBodies[0],H=I.getElementsByTagName("a"),G;if(H.length>0){B.batch(H,function(J){if(B.hasClass(J.parentNode,"today")){G=J}});if(!G){G=H[0]}YAHOO.lang.later(0,G,function(){try{G.focus()}catch(J){}})}};this.calendar.renderEvent.subscribe(E,this.calendar,true);this.calendar.render();this.calendar.selectEvent.subscribe(function(K,I,M){this.oOverlay.hide();var H=I[0][0];var J=H[0],L=H[1],G=H[2];this.setValue(new Date(J,L-1,G));this.fireUpdatedEvt()},this,true);this.button.unsubscribe("click",this.renderCalendar)}});C.messages.defautCalendarOpts={navigator:true};C.registerType("datepicker",C.DatePickerField)})();(function(){var A=YAHOO.inputEx;A.EmailField=function(B){A.EmailField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.EmailField,A.StringField,{setOptions:function(){A.EmailField.superclass.setOptions.call(this);this.options.messages.invalid=A.messages.invalidEmail;this.options.regexp=A.regexps.email},getValue:function(){return this.el.value.toLowerCase()}});A.messages.invalidEmail="Invalid email, ex: sample@test.com";A.registerType("email",A.EmailField)})();(function(){var A=YAHOO.inputEx;A.HiddenField=function(B){A.HiddenField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.HiddenField,A.Field,{render:function(){this.type=A.HiddenField;this.divEl=A.cn("div",null,{display:"none"});this.el=A.cn("input",{type:"hidden"});if(this.options.name){this.el.name=this.options.name}this.divEl.appendChild(this.el)},setValue:function(B){this.el.value=B},getValue:function(){return this.el.value}});A.registerType("hidden",A.HiddenField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.InPlaceEdit=function(E){C.InPlaceEdit.superclass.constructor.call(this,E)};D.extend(C.InPlaceEdit,C.Field,{renderComponent:function(){this.renderVisuDiv();this.renderEditor()},renderEditor:function(){this.editorContainer=C.cn("div",null,{display:"none"});this.editorField=C.buildField(this.options.editorField);this.editorContainer.appendChild(this.editorField.getEl());B.setStyle(this.editorField.getEl(),"float","left");this.okButton=C.cn("input",{type:"button",value:C.messages.okEditor,className:"inputEx-InPlaceEdit-OkButton"});B.setStyle(this.okButton,"float","left");this.editorContainer.appendChild(this.okButton);this.cancelLink=C.cn("a",{className:"inputEx-InPlaceEdit-CancelLink"},null,C.messages.cancelEditor);this.cancelLink.href="";B.setStyle(this.cancelLink,"float","left");this.editorContainer.appendChild(this.cancelLink);this.editorContainer.appendChild(C.cn("div",null,{clear:"both"}));this.fieldContainer.appendChild(this.editorContainer)},onVisuMouseOver:function(E){if(this.colorAnim){this.colorAnim.stop(true)}C.sn(this.formattedContainer,null,{backgroundColor:"#eeee33"})},onVisuMouseOut:function(E){if(this.colorAnim){this.colorAnim.stop(true)}this.colorAnim=new YAHOO.util.ColorAnim(this.formattedContainer,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.colorAnim.onComplete.subscribe(function(){B.setStyle(this.formattedContainer,"background-color","")},this,true);this.colorAnim.animate()},renderVisuDiv:function(){this.formattedContainer=C.cn("div",{className:"inputEx-InPlaceEdit-visu"});if(D.isFunction(this.options.formatDom)){this.formattedContainer.appendChild(this.options.formatDom(this.options.value))}else{if(D.isFunction(this.options.formatValue)){this.formattedContainer.innerHTML=this.options.formatValue(this.options.value)}else{this.formattedContainer.innerHTML=D.isUndefined(this.options.value)?C.messages.emptyInPlaceEdit:this.options.value}}this.fieldContainer.appendChild(this.formattedContainer)},initEvents:function(){A.addListener(this.formattedContainer,"click",this.openEditor,this,true);A.addListener(this.formattedContainer,"mouseover",this.onVisuMouseOver,this,true);A.addListener(this.formattedContainer,"mouseout",this.onVisuMouseOut,this,true);A.addListener(this.okButton,"click",this.onOkEditor,this,true);A.addListener(this.cancelLink,"click",this.onCancelEditor,this,true);if(this.editorField.el){A.addListener(this.editorField.el,"keyup",this.onKeyUp,this,true);A.addListener(this.editorField.el,"keydown",this.onKeyDown,this,true)}},onKeyUp:function(E){if(E.keyCode==13){this.onOkEditor()}if(E.keyCode==27){this.onCancelEditor(E)}},onKeyDown:function(E){if(E.keyCode==9){this.onOkEditor()}},onOkEditor:function(){var F=this.editorField.getValue();this.setValue(F);this.editorContainer.style.display="none";this.formattedContainer.style.display="";var E=this;setTimeout(function(){E.updatedEvt.fire(F)},50)},onCancelEditor:function(E){A.stopEvent(E);this.editorContainer.style.display="none";this.formattedContainer.style.display=""},openEditor:function(){var E=this.getValue();this.editorContainer.style.display="";this.formattedContainer.style.display="none";if(!D.isUndefined(E)){this.editorField.setValue(E)}this.editorField.focus();if(this.editorField.el&&D.isFunction(this.editorField.el.setSelectionRange)&&(!!E&&!!E.length)){this.editorField.el.setSelectionRange(0,E.length)}},getValue:function(){var E=(this.editorContainer.style.display=="");return E?this.editorField.getValue():this.value},setValue:function(E){this.value=E;if(D.isUndefined(E)||E==""){C.renderVisu(this.options.visu,C.messages.emptyInPlaceEdit,this.formattedContainer)}else{C.renderVisu(this.options.visu,this.value,this.formattedContainer)}if(this.editorContainer.style.display==""){this.editorField.setValue(E)}},close:function(){this.editorContainer.style.display="none";this.formattedContainer.style.display=""}});C.messages.emptyInPlaceEdit="(click to edit)";C.messages.cancelEditor="cancel";C.messages.okEditor="Ok";C.registerType("inplaceedit",C.InPlaceEdit)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Event;B.IntegerField=function(D){B.IntegerField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.IntegerField,B.StringField,{getValue:function(){if((this.options.typeInvite&&this.el.value==this.options.typeInvite)||this.el.value==""){return""}return parseInt(this.el.value,10)},validate:function(){if(this.el.value==""){return true}var D=this.getValue();if(isNaN(D)){return false}return this.el.value.match(/^[0-9]*$/)}});B.registerType("integer",B.IntegerField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.ListField=function(E){this.subFields=[];C.ListField.superclass.constructor.call(this,E)};D.extend(C.ListField,C.Field,{setOptions:function(){C.ListField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-ListField";this.options.sortable=D.isUndefined(this.options.sortable)?false:this.options.sortable;this.options.elementType=this.options.elementType||{type:"string"}},renderComponent:function(){this.addButton=C.cn("img",{src:C.spacerUrl,className:"inputEx-ListField-addButton"});this.fieldContainer.appendChild(this.addButton);this.fieldContainer.appendChild(C.cn("span",null,{marginLeft:"4px"},this.options.listLabel));this.childContainer=C.cn("div",{className:"inputEx-ListField-childContainer"});this.fieldContainer.appendChild(this.childContainer)},initEvents:function(){A.addListener(this.addButton,"click",this.onAddButton,this,true)},setValue:function(G){if(!D.isArray(G)){return }for(var F=0;F<G.length;F++){if(F==this.subFields.length){this.addElement(G[F])}else{this.subFields[F].setValue(G[F])}}var E=this.subFields.length-G.length;if(E>0){for(var F=0;F<E;F++){this.removeElement(G.length)}}},getValue:function(){var E=[];for(var F=0;F<this.subFields.length;F++){E[F]=this.subFields[F].getValue()}return E},addElement:function(F){var E=this.renderSubField(F);this.subFields.push(E);return E},onAddButton:function(F){A.stopEvent(F);var E=this.addElement();E.focus();this.fireUpdatedEvt()},renderSubField:function(L){var H=C.cn("div");var F=C.cn("img",{src:C.spacerUrl,className:"inputEx-ListField-delButton"});A.addListener(F,"click",this.onDelete,this,true);H.appendChild(F);var K=D.merge({},this.options.elementType);if(!K.inputParams){K.inputParams={}}if(!YAHOO.lang.isUndefined(L)){K.inputParams.value=L}var I=C.buildField(K);var G=I.getEl();B.setStyle(G,"margin-left","4px");B.setStyle(G,"float","left");H.appendChild(G);I.updatedEvt.subscribe(this.onChange,this,true);if(this.options.sortable){var J=C.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowUp"});A.addListener(J,"click",this.onArrowUp,this,true);var E=C.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowDown"});A.addListener(E,"click",this.onArrowDown,this,true);H.appendChild(J);H.appendChild(E)}H.appendChild(C.cn("div",null,{clear:"both"}));this.childContainer.appendChild(H);return I},onArrowUp:function(K){var H=A.getTarget(K).parentNode;var F=null;var G=-1;for(var I=1;I<H.parentNode.childNodes.length;I++){var E=H.parentNode.childNodes[I];if(E==H){F=H.parentNode.childNodes[I-1];G=I;break}}if(F){var L=this.childContainer.removeChild(H);var J=this.childContainer.insertBefore(L,F);var M=this.subFields[G];this.subFields[G]=this.subFields[G-1];this.subFields[G-1]=M;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(J,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},0.4);this.arrowAnim.onComplete.subscribe(function(){B.setStyle(J,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}},onArrowDown:function(K){var G=A.getTarget(K).parentNode;var F=-1;var J=null;for(var H=0;H<G.parentNode.childNodes.length;H++){var E=G.parentNode.childNodes[H];if(E==G){J=G.parentNode.childNodes[H+1];F=H;break}}if(J){var L=this.childContainer.removeChild(G);var I=B.insertAfter(L,J);var M=this.subFields[F];this.subFields[F]=this.subFields[F+1];this.subFields[F+1]=M;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(I,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.arrowAnim.onComplete.subscribe(function(){B.setStyle(I,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}},onDelete:function(I){A.stopEvent(I);var F=A.getTarget(I).parentNode;var E=-1;var H=F.childNodes[1];for(var G=0;G<this.subFields.length;G++){if(this.subFields[G].getEl()==H){E=G;break}}if(E!=-1){this.removeElement(E)}this.updatedEvt.fire(this.getValue())},removeElement:function(F){var E=this.subFields[F].getEl().parentNode;this.subFields[F]=undefined;this.subFields=C.compactArray(this.subFields);E.parentNode.removeChild(E)}});C.registerType("list",C.ListField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.NumberField=function(D){B.NumberField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.NumberField,B.StringField,{getValue:function(){if((this.options.typeInvite&&this.el.value==this.options.typeInvite)||this.el.value==""){return""}return parseFloat(this.el.value)},validate:function(){if(this.el.value==""){return true}var D=this.getValue();if(isNaN(D)){return false}return this.el.value.match(/^(\+?((([0-9]+(\.)?)|([0-9]*\.[0-9]+))([eE][+-]?[0-9]+)?))$/)}});B.registerType("number",B.NumberField)})();(function(){var A=YAHOO.inputEx;A.PairField=function(B){B.fields=[B.leftFieldOptions||{},B.rightFieldOptions||{}];B.separators=[false," : ",false];A.PairField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.PairField,A.CombineField);A.registerType("pair",A.PairField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.PasswordField=function(D){B.PasswordField.superclass.constructor.call(this,D)};C.extend(B.PasswordField,B.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-PasswordField";B.PasswordField.superclass.setOptions.call(this);this.options.regexp=B.regexps.password;this.options.strengthIndicator=YAHOO.lang.isUndefined(this.options.strengthIndicator)?false:this.options.strengthIndicator;this.options.capsLockWarning=YAHOO.lang.isUndefined(this.options.capsLockWarning)?false:this.options.capsLockWarning},renderComponent:function(){this.wrapEl=B.cn("div",{className:"inputEx-StringField-wrapper"});var D={};D.type="password";D.size=this.options.size;if(this.options.name){D.name=this.options.name}this.el=B.cn("input",D);this.wrapEl.appendChild(this.el);this.fieldContainer.appendChild(this.wrapEl);if(this.options.capsLockWarning){this.capsLockWarning=B.cn("div",{className:"capsLockWarning"},{display:"none"},B.messages.capslockWarning);this.wrapEl.appendChild(this.capsLockWarning)}if(this.options.strengthIndicator){this.strengthEl=B.cn("div",{className:"inputEx-Password-StrengthIndicator"},null,"Password Strength");this.strengthBlocks=[];for(var E=0;E<4;E++){this.strengthBlocks[E]=B.cn("div",{className:"inputEx-Password-StrengthIndicatorBlock"});this.strengthEl.appendChild(this.strengthBlocks[E])}this.wrapEl.appendChild(this.strengthEl)}},setConfirmationField:function(D){this.options.confirmPasswordField=D;this.options.messages.invalid=B.messages.invalidPasswordConfirmation;this.options.confirmPasswordField.options.confirmationPasswordField=this},validate:function(){if(this.options.confirmPasswordField){if(this.options.confirmPasswordField.getValue()!=this.getValue()){return false}}return B.PasswordField.superclass.validate.call(this)},getStateString:function(D){if(D==B.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength){return B.messages.invalidPassword[0]+this.options.minLength+B.messages.invalidPassword[1]}return B.StringField.superclass.getStateString.call(this,D)},onInput:function(D){B.PasswordField.superclass.onInput.call(this,D);if(this.options.confirmationPasswordField){this.options.confirmationPasswordField.setClassFromState()}},onKeyPress:function(H){B.PasswordField.superclass.onKeyPress.call(this,H);if(this.options.capsLockWarning){var G=H?H:window.event;if(!G){return }var E=G.target?G.target:G.srcElement;var I=-1;if(G.which){I=G.which}else{if(G.keyCode){I=G.keyCode}}var F=false;if(G.shiftKey){F=G.shiftKey}else{if(G.modifiers){F=!!(G.modifiers&4)}}var D=((I>=65&&I<=90)&&!F)||((I>=97&&I<=122)&&F);this.setCapsLockWarning(D)}},onKeyUp:function(D){B.PasswordField.superclass.onKeyUp.call(this,D);if(this.options.strengthIndicator){C.later(0,this,this.updateStrengthIndicator)}},setCapsLockWarning:function(D){this.capsLockWarning.style.display=D?"":"none"},updateStrengthIndicator:function(){var F=B.PasswordField.getPasswordStrength(this.getValue());for(var E=0;E<4;E++){var D=(F>=E*25)&&(F>0);YAHOO.util.Dom.setStyle(this.strengthBlocks[E],"background-color",D?"#4AE817":"#FFFFFF")}}});B.PasswordField.getPasswordStrength=function(K){var G=(K.length);if(G>7){G=7}var I=K.replace(/[0-9]/g,"");var J=(K.length-I.length);if(J>3){J=3}var D=K.replace(/\W/g,"");var F=(K.length-D.length);if(F>3){F=3}var E=K.replace(/[A-Z]/g,"");var L=(K.length-E.length);if(L>3){L=3}var H=((G*10)-20)+(J*10)+(F*20)+(L*10);if(H<0){H=0}if(H>100){H=100}return H};B.messages.invalidPassword=["The password schould contain at least "," numbers or caracters"];B.messages.invalidPasswordConfirmation="Passwords are different !";B.messages.capslockWarning="Warning: CapsLock is on";B.registerType("password",B.PasswordField)})();(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.RTEField=function(C){A.RTEField.superclass.constructor.call(this,C)};B.extend(A.RTEField,A.Field,{renderComponent:function(){if(!A.RTEfieldsNumber){A.RTEfieldsNumber=0}var G="inputEx-RTEField-"+A.RTEfieldsNumber;this.el=A.cn("textarea",{id:G});A.RTEfieldsNumber+=1;this.fieldContainer.appendChild(this.el);if(!this.options.opts){this.options.opts={}}var E={height:"300px",width:"580px",dompath:true};var F=this.options.opts;for(var D in F){if(B.hasOwnProperty(F,D)){E[D]=F[D]}}var C=((this.options.type&&(this.options.type=="simple"))?YAHOO.widget.SimpleEditor:YAHOO.widget.Editor);if(C){this.editor=new C(G,E);this.editor.render()}else{alert("Editor is not on the page")}},setValue:function(C){if(this.editor){this.editor.setEditorHTML(C)}},getValue:function(){try{return this.editor.getEditorHTML()}catch(C){}}});A.registerType("html",A.RTEField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event;B.SelectField=function(C){B.SelectField.superclass.constructor.call(this,C)};YAHOO.lang.extend(B.SelectField,B.Field,{renderComponent:function(){this.el=B.cn("select",{name:this.options.name||""});if(this.options.multiple){this.el.multiple=true;this.el.size=this.options.selectValues.length}this.optionEls=[];for(var C=0;C<this.options.selectValues.length;C++){this.optionEls[C]=B.cn("option",{value:this.options.selectValues[C]},null,(this.options.selectOptions)?this.options.selectOptions[C]:this.options.selectValues[C]);this.el.appendChild(this.optionEls[C])}this.fieldContainer.appendChild(this.el)},initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true);A.addListener(this.el,"focus",this.onFocus,this,true);A.addListener(this.el,"blur",this.onBlur,this,true)},setValue:function(F){var C=0;var E;for(var D=0;D<this.options.selectValues.length;D++){if(F===this.options.selectValues[D]){E=this.el.childNodes[D];E.selected="selected"}}},getValue:function(){return this.options.selectValues[this.el.selectedIndex]},disable:function(){this.el.disabled=true},enable:function(){this.el.disabled=false}});B.registerType("select",B.SelectField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event;B.Textarea=function(C){B.Textarea.superclass.constructor.call(this,C)};YAHOO.lang.extend(B.Textarea,B.Field,{initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true);A.addListener(this.el,"focus",this.onFocus,this,true);A.addListener(this.el,"blur",this.onBlur,this,true)},setOptions:function(){B.Textarea.superclass.setOptions.call(this);this.options.rows=this.options.rows||6;this.options.cols=this.options.cols||23},renderComponent:function(){this.el=B.cn("textarea",{rows:this.options.rows,cols:this.options.cols},null,this.options.value);this.fieldContainer.appendChild(this.el)},setValue:function(C){this.el.value=C},getValue:function(){return this.el.value}});B.registerType("text",B.Textarea)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.TimeField=function(E){var I=[];for(var G=0;G<24;G++){var H="";if(G<10){H="0"}H+=G;I.push(H)}var D=[];var F=[];for(var G=0;G<60;G++){var H="";if(G<10){H="0"}H+=G;D.push(H);F.push(H)}E.fields=[{type:"select",inputParams:{selectOptions:I,selectValues:I}},{type:"select",inputParams:{selectOptions:D,selectValues:D}},{type:"select",inputParams:{selectOptions:F,selectValues:F}}];E.separators=E.separators||[false,":",":",false];B.TimeField.superclass.constructor.call(this,E)};YAHOO.lang.extend(B.TimeField,B.CombineField,{getValue:function(){var D=B.TimeField.superclass.getValue.call(this);return D.join(":")},setValue:function(D){B.TimeField.superclass.setValue.call(this,D.split(":"))}});B.registerType("time",B.TimeField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.DateTimeField=function(D){D.fields=[{type:"datepicker",inputParams:{}},{type:"time",inputParams:{}}];if(D.dateFormat){D.fields[0].inputParams.dateFormat=D.dateFormat}D.separators=D.separators||[false,"&nbsp;&nbsp;",false];B.DateTimeField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.DateTimeField,B.CombineField,{getValue:function(){var E=this.inputs[0].getValue();if(E==""){return null}var D=this.inputs[1].getValue().split(":");E.setHours(D[0]);E.setMinutes(D[1]);E.setSeconds(D[2]);return E},setValue:function(G){if(!YAHOO.lang.isObject(G)){return }this.inputs[0].setValue(G);var F=G.getHours();var D=G.getMinutes();var E=G.getSeconds();this.inputs[1].setValue(([(F<10?"0":"")+F,(D<10?"0":"")+D,(E<10?"0":"")+E]).join(":"))}});B.registerType("datetime",B.DateTimeField)})();(function(){var A=YAHOO.inputEx;A.UneditableField=function(B){A.UneditableField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.UneditableField,A.Field,{setValue:function(B){this.value=B;A.renderVisu(this.options.visu,B,this.fieldContainer)},getValue:function(){return this.value}});A.registerType("uneditable",A.UneditableField)})();(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.UrlField=function(C){A.UrlField.superclass.constructor.call(this,C)};B.extend(A.UrlField,A.StringField,{setOptions:function(){A.UrlField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-UrlField";this.options.messages.invalid=A.messages.invalidUrl;this.options.favicon=B.isUndefined(this.options.favicon)?(("https:"==document.location.protocol)?false:true):this.options.favicon},setValue:function(C){this.el.value=C;this.validate()},render:function(){A.UrlField.superclass.render.call(this);this.el.size=27;if(!this.options.favicon){YAHOO.util.Dom.addClass(this.el,"nofavicon")}if(this.options.favicon){this.favicon=A.cn("img",{src:A.spacerUrl});this.fieldContainer.insertBefore(this.favicon,this.fieldContainer.childNodes[0])}},validate:function(){var D=this.getValue().match(A.regexps.url);if(this.options.favicon){var C=D?(D[0]+"/favicon.ico"):A.spacerUrl;if(C!=this.favicon.src){A.sn(this.favicon,null,{visibility:"hidden"});this.favicon.src=C;if(this.timer){clearTimeout(this.timer)}var E=this;this.timer=setTimeout(function(){E.displayFavicon()},1000)}}return !!D},displayFavicon:function(){A.sn(this.favicon,null,{visibility:(this.favicon.naturalWidth!=0)?"visible":"hidden"})}});A.messages.invalidUrl="Invalid URL, ex: http://www.test.com";A.registerType("url",A.UrlField)})();(function(){var D=YAHOO.inputEx,B=YAHOO.util.DragDropMgr,C=YAHOO.util.Dom,A=YAHOO.util.Event;D.widget.DDListItem=function(E){D.widget.DDListItem.superclass.constructor.call(this,E);this.setXConstraint(0,0);this.goingUp=false;this.lastY=0};YAHOO.extend(D.widget.DDListItem,YAHOO.util.DDProxy,{startDrag:function(F,H){var E=this.getDragEl();var G=this.getEl();C.setStyle(G,"visibility","hidden");this._originalIndex=D.indexOf(G,G.parentNode.childNodes);E.className=G.className;E.innerHTML=G.innerHTML},endDrag:function(F){C.setStyle(this.id,"visibility","");var G=this.getEl();var E=D.indexOf(G,G.parentNode.childNodes);if(this._originalIndex!=E){this._list.listReorderedEvt.fire()}},onDragDrop:function(I,J){if(B.interactionInfo.drop.length===1){var H=B.interactionInfo.point;var G=B.interactionInfo.sourceRegion;if(!G.intersect(H)){var E=C.get(J);if(E.nodeName.toLowerCase()!="li"){var F=B.getDDById(J);E.appendChild(this.getEl());F.isEmpty=false;B.refreshCache()}}}},onDrag:function(E){var F=A.getPageY(E);if(F<this.lastY){this.goingUp=true}else{if(F>this.lastY){this.goingUp=false}}this.lastY=F},onDragOver:function(I,J){var G=this.getEl();var F=C.get(J);if(F.nodeName.toLowerCase()=="li"){var E=G.parentNode;var H=F.parentNode;if(this.goingUp){H.insertBefore(G,F)}else{H.insertBefore(G,F.nextSibling)}B.refreshCache()}}});D.widget.DDList=function(E){this.ul=D.cn("ul");if(E.id){this.ul.id=E.id}if(E.value){this.setValue(E.value)}this.itemRemovedEvt=new YAHOO.util.CustomEvent("itemRemoved",this);this.listReorderedEvt=new YAHOO.util.CustomEvent("listReordered",this);if(E.parentEl){if(YAHOO.lang.isString(E.parentEl)){C.get(E.parentEl).appendChild(this.ul)}else{E.parentEl.appendChild(this.ul)}}};D.widget.DDList.prototype={addItem:function(G){var E=D.cn("li",{className:"inputEx-DDList-item"});E.appendChild(D.cn("span",null,null,G));var H=D.cn("a",null,null,"remove");E.appendChild(H);A.addListener(H,"click",function(K){var J=A.getTarget(K);var I=J.parentNode;this.removeItem(D.indexOf(I,this.ul.childNodes))},this,true);var F=new D.widget.DDListItem(E);F._list=this;this.ul.appendChild(E)},removeItem:function(E){var F=this.ul.childNodes[E].childNodes[0].innerHTML;this.ul.removeChild(this.ul.childNodes[E]);this.itemRemovedEvt.fire(F)},getValue:function(){var F=[];for(var E=0;E<this.ul.childNodes.length;E++){F.push(this.ul.childNodes[E].childNodes[0].innerHTML)}return F},updateItem:function(E,F){this.ul.childNodes[E].childeNodes[0].innerHTML=F},setValue:function(F){for(var E=0;E<F.length;E++){if(this.ul.childNodes.length>E){this.updateItem(E,F[E])}else{this.addItem(F[E])}}}}})();(function(){var A=YAHOO.inputEx;A.MultiSelectField=function(B){A.MultiSelectField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.MultiSelectField,A.SelectField,{renderComponent:function(){A.MultiSelectField.superclass.renderComponent.call(this);this.ddlist=new A.widget.DDList({parentEl:this.fieldContainer})},initEvents:function(){YAHOO.util.Event.addListener(this.el,"change",this.onAddNewItem,this,true);this.ddlist.itemRemovedEvt.subscribe(this.onItemRemoved,this,true);this.ddlist.listReorderedEvt.subscribe(this.fireUpdatedEvt,this,true)},onItemRemoved:function(C,E){var D=E[0];var B=A.indexOf(D,this.options.selectValues);this.el.childNodes[B].disabled=false;this.fireUpdatedEvt()},onAddNewItem:function(){if(this.el.selectedIndex!=0){this.ddlist.addItem(this.options.selectValues[this.el.selectedIndex]);this.el.childNodes[this.el.selectedIndex].disabled=true;this.el.selectedIndex=0;this.fireUpdatedEvt()}},setValue:function(D){this.ddlist.setValue(D);for(var C=0;C<this.el.childNodes.length;C++){this.el.childNodes[C].disabled=false}for(C=0;C<D.length;C++){var B=A.indexOf(D[C],this.options.selectValues);this.el.childNodes[B].disabled=true}},getValue:function(){return this.ddlist.getValue()}});A.registerType("multiselect",A.MultiSelectField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.AutoComplete=function(E){C.AutoComplete.superclass.constructor.call(this,E)};D.extend(C.AutoComplete,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-AutoComplete";C.AutoComplete.superclass.setOptions.call(this)},renderComponent:function(){this.wrapEl=C.cn("div",{className:"inputEx-StringField-wrapper"});var E={type:"text",id:YAHOO.util.Dom.generateId()};if(this.options.size){E.size=this.options.size}if(this.options.readonly){E.readonly="readonly"}if(this.options.maxLength){E.maxLength=this.options.maxLength}this.el=C.cn("input",E);var F={type:"hidden",value:""};if(this.options.name){F.name=this.options.name}this.hiddenEl=C.cn("input",F);this.wrapEl.appendChild(this.el);this.wrapEl.appendChild(this.hiddenEl);this.fieldContainer.appendChild(this.wrapEl);this.listEl=C.cn("div",{id:B.generateId()});this.fieldContainer.appendChild(this.listEl);A.onAvailable([this.el,this.listEl],this.buildAutocomplete,this,true)},buildAutocomplete:function(){if(!this._nElementsReady){this._nElementsReady=0}this._nElementsReady++;if(this._nElementsReady!=2){return }this.oAutoComp=new YAHOO.widget.AutoComplete(this.el.id,this.listEl.id,this.options.datasource,this.options.autoComp);this.oAutoComp.itemSelectEvent.subscribe(this.itemSelectHandler,this,true)},itemSelectHandler:function(G,F){var E=F[2];this.setValue(this.options.returnValue?this.options.returnValue(E):E[0]);this.fireUpdatedEvt()},onChange:function(E){this.setClassFromState();YAHOO.lang.later(50,this,function(){if(this.el.value==""){this.setValue("");this.fireUpdatedEvt()}})},setValue:function(E){this.hiddenEl.value=E},getValue:function(){return this.hiddenEl.value}});C.registerType("autocomplete",C.AutoComplete)})();(function(){var A=YAHOO.inputEx;A.MultiAutoComplete=function(B){A.MultiAutoComplete.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.MultiAutoComplete,A.AutoComplete,{renderComponent:function(){A.MultiAutoComplete.superclass.renderComponent.call(this);this.ddlist=new A.widget.DDList({parentEl:this.fieldContainer});this.ddlist.itemRemovedEvt.subscribe(function(){this.fireUpdatedEvt()},this,true);this.ddlist.listReorderedEvt.subscribe(this.fireUpdatedEvt,this,true)},itemSelectHandler:function(D,C){var B=C[2];this.ddlist.addItem(this.options.returnValue?this.options.returnValue(B):B[0]);this.el.value="";this.fireUpdatedEvt()},setValue:function(B){this.ddlist.setValue(B)},getValue:function(){return this.ddlist.getValue()}});A.registerType("multiautocomplete",A.MultiAutoComplete)})();