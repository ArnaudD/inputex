(function(){var B=YAHOO.lang;YAHOO.namespace("inputEx");var A=YAHOO.inputEx;B.augmentObject(A,{VERSION:"0.2.0b",spacerUrl:"images/space.gif",stateEmpty:"empty",stateRequired:"required",stateValid:"valid",stateInvalid:"invalid",messages:{required:"This field is required",invalid:"This field is invalid",valid:"This field is valid"},widget:{},regexps:{email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ipv4:/^(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)(?:\.(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)){3}$/,url:/^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(([0-9]{1,5})?\/.*)?$/i,password:/^[0-9a-zA-Z\x20-\x7E]*$/},typeClasses:{},registerType:function(C,D){if(!B.isString(C)){throw new Error("inputEx.registerType: first argument must be a string")}if(!B.isFunction(D)){throw new Error("inputEx.registerType: second argument must be a function")}this.typeClasses[C]=D},getFieldClass:function(C){if(B.isFunction(this.typeClasses[C])){return this.typeClasses[C]}return null},getType:function(C){for(var D in this.typeClasses){if(this.typeClasses.hasOwnProperty(D)){if(this.typeClasses[D]==C){return D}}}return null},buildField:function(C){var D=null;if(C.type){D=this.getFieldClass(C.type);if(D===null){D=A.StringField}}else{D=C.fieldClass?C.fieldClass:A.StringField}var E=new D(C.inputParams);if(C.flatten){E._flatten=true}return E},sn:function(F,E,C){if(!F){return }if(E){for(var D in E){var H=E[D];if(B.isFunction(H)){continue}if(D=="className"){D="class";F.className=H}if(H!==F.getAttribute(D)){try{if(H===false){F.removeAttribute(D)}else{F.setAttribute(D,H)}}catch(G){}}}}if(C){for(var D in C){if(B.isFunction(C[D])){continue}if(F.style[D]!=C[D]){F.style[D]=C[D]}}}},cn:function(C,E,D,G){var F=document.createElement(C);this.sn(F,E,D);if(G){F.innerHTML=G}return F},indexOf:function(F,C){var D=C.length,E;for(E=0;E<D;E++){if(C[E]==F){return E}}return -1},compactArray:function(C){var F=[],D=C.length,E;for(E=0;E<D;E++){if(!B.isNull(C[E])&&!B.isUndefined(C[E])){F.push(C[E])}}return F}})})();var inputEx=YAHOO.inputEx;(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.visus={trimpath:function(E,F){if(!TrimPath){alert("TrimPath is not on the page. Please load inputex/lib/trimpath-template.js");return }var D=TrimPath.parseTemplate(E.template);var C=D.process(F);return C},"func":function(C,D){return C.func(D)},dump:function(C,D){return B.dump(D)}};A.renderVisu=function(I,E,F){var C=I||{};var J=C.visuType||"dump";if(!A.visus.hasOwnProperty(J)){throw new Error("inputEx: no visu for visuType: "+J)}var G=A.visus[J];if(!B.isFunction(G)){throw new Error("inputEx: no visu for visuType: "+J)}var K=null;try{K=G(C,E)}catch(H){throw new Error("inputEx: error while running visu "+J+" : "+H.message);return }var D=null;if(F){if(B.isString(F)){D=YAHOO.util.Dom.get(F)}else{D=F}}if(D){if(YAHOO.lang.isObject(K)&&K.tagName){D.innerHTML="";D.appendChild(K)}else{D.innerHTML=K}}return K}})();YAHOO.inputEx.JsonSchema={schemaToInputEx:function(G,A){var D={label:A,inputParams:{name:A}};if(G.type){var F=G.type;if(YAHOO.lang.isArray(F)){if(F.length==0||(F.length==1&&F[0]=="any")){F="array"}else{F=F[0]}}else{if(YAHOO.lang.isObject(F)){console.log("type is an object !!")}}D.type=F;if(F=="array"){D.type="list"}else{if(F=="object"){D.type="group";var E={fields:[]};if(A){E.name=A}for(var C in G.properties){if(G.properties.hasOwnProperty(C)){E.fields.push(this.schemaToInputEx(G.properties[C],C))}}D.inputParams=E}else{if(F=="string"&&(!!G.options)){D.type="select";D.inputParams.selectOptions=[];D.inputParams.selectValues=[];for(var B=0;B<G.options.length;B++){var H=G.options[B];D.inputParams.selectOptions.push(H.label);D.inputParams.selectValues.push(H.value)}}else{if(F=="string"){if(G.format){if(G.format=="html"){D.type="html"}else{if(G.format=="date"){D.type="date";D.inputParams.tooltipIcon=true}}}}}}}}else{if(G["$ref"]){throw new Error("$ref not implemented yet...")}}return D},formFromInstance:function(D){if(!D||!D["$schema"]){throw new Error("Invalid json schema instance object. Object must have a '$schema' property.")}var A=YAHOO.inputEx.JsonSchema.schemaToInputEx(D["$schema"]);for(var B=0;B<A.fields.length;B++){var C=A.fields[B].inputParams.name;A.fields[B].inputParams.value=D[C]}return A},inputExToSchema:function(A){}};(function(){var C=YAHOO.inputEx,B=YAHOO.util.Dom,D=YAHOO.lang,A=YAHOO.util;C.Field=function(E){this.options=E||{};this.setOptions();this.render();if(!D.isUndefined(this.options.value)){this.setValue(this.options.value)}this.updatedEvt=new A.CustomEvent("updated",this);this.initEvents();this.setClassFromState();if(this.options.parentEl){if(D.isString(this.options.parentEl)){B.get(this.options.parentEl).appendChild(this.getEl())}else{this.options.parentEl.appendChild(this.getEl())}}};C.Field.prototype={setOptions:function(){this.options.messages=this.options.messages||{};this.options.messages.required=this.options.messages.required||C.messages.required;this.options.messages.invalid=this.options.messages.invalid||C.messages.invalid;this.options.messages.valid=this.options.messages.valid||C.messages.valid;this.options.className=this.options.className||"inputEx-Field";this.options.required=this.options.required?true:false;this.options.showMsg=D.isUndefined(this.options.showMsg)?false:this.options.showMsg},render:function(){this.divEl=C.cn("div",{className:"inputEx-fieldWrapper"});if(this.options.id){this.divEl.id=this.options.id}if(this.options.label&&this.options.label!=""){this.labelDiv=C.cn("div",{className:"inputEx-label"});this.labelEl=C.cn("label");this.labelEl.appendChild(document.createTextNode(this.options.label));this.labelDiv.appendChild(this.labelEl);this.divEl.appendChild(this.labelDiv)}this.fieldContainer=C.cn("div",{className:this.options.className});this.renderComponent();if(this.options.description&&this.options.description!=""){this.fieldContainer.appendChild(C.cn("div",{className:"inputEx-description"},null,this.options.description))}this.divEl.appendChild(this.fieldContainer);this.divEl.appendChild(C.cn("div",null,{clear:"both"}," "))},fireUpdatedEvt:function(){if(this.validate()){var E=this;setTimeout(function(){E.updatedEvt.fire(E.getValue(),E)},50)}},renderComponent:function(){},getEl:function(){return this.divEl},initEvents:function(){},getValue:function(){},setValue:function(E){},setClassFromState:function(){if(this.previousState){B.removeClass(this.getEl(),"inputEx-"+this.previousState)}var E=this.getState();B.addClass(this.getEl(),"inputEx-"+E);if(this.options.showMsg){this.displayMessage(this.getStateString(E))}this.previousState=E},getStateString:function(E){if(E==C.stateRequired){return this.options.messages.required}else{if(E==C.stateInvalid){return this.options.messages.invalid}else{return""}}},getState:function(){if(this.getValue()===""){return this.options.required?C.stateRequired:C.stateEmpty}return this.validate()?C.stateValid:C.stateInvalid},validate:function(){return true},onFocus:function(F){var E=this.getEl();B.removeClass(E,"inputEx-empty");B.addClass(E,"inputEx-focused")},onBlur:function(E){B.removeClass(this.getEl(),"inputEx-focused");this.setClassFromState()},onChange:function(E){this.setClassFromState();this.fireUpdatedEvt()},close:function(){},disable:function(){},enable:function(){},focus:function(){},destroy:function(){var E=this.getEl();if(B.inDocument(E)){E.parentEl.removeChild(E)}A.Event.purgeElement(E,true)},displayMessage:function(E){if(!this.fieldContainer){return }if(!this.msgEl){this.msgEl=C.cn("div",{className:"inputEx-message"});this.divEl.insertBefore(this.msgEl,this.fieldContainer.nextSibling)}this.msgEl.innerHTML=E}}})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,B=YAHOO.util.Dom,A=YAHOO.util.Event;C.Group=function(E){C.Group.superclass.constructor.call(this,E)};D.extend(C.Group,C.Field,{setOptions:function(){this.options.legend=this.options.legend||"";this.inputConfigs=this.options.fields;this.options.collapsible=D.isUndefined(this.options.collapsible)?false:this.options.collapsible;this.options.disabled=D.isUndefined(this.options.disabled)?false:this.options.disabled;this.inputs=[];this.inputsNames={}},render:function(){this.divEl=C.cn("div",{className:"inputEx-Group"});this.renderFields(this.divEl);if(this.options.disabled){this.disable()}},renderFields:function(G){this.fieldset=C.cn("fieldset");this.legend=C.cn("legend",{className:"inputEx-Group-legend"});if(this.options.collapsible){var I=C.cn("div",{className:"inputEx-Group-collapseImg"},null," ");this.legend.appendChild(I);C.sn(this.fieldset,{className:"inputEx-Expanded"})}if(!YAHOO.lang.isUndefined(this.options.legend)&&this.options.legend!==""){this.legend.appendChild(document.createTextNode(" "+this.options.legend))}if(this.options.collapsible||(!YAHOO.lang.isUndefined(this.options.legend)&&this.options.legend!=="")){this.fieldset.appendChild(this.legend)}for(var F=0;F<this.inputConfigs.length;F++){var E=this.inputConfigs[F];var H=this.renderField(E);this.fieldset.appendChild(H.getEl())}G.appendChild(this.fieldset)},renderField:function(F){var E=C.buildField(F);this.inputs.push(E);if(E.options.name){this.inputsNames[E.options.name]=E}E.updatedEvt.subscribe(this.onChange,this,true);return E},initEvents:function(){if(this.options.collapsible){A.addListener(this.legend,"click",this.toggleCollapse,this,true)}},toggleCollapse:function(){if(B.hasClass(this.fieldset,"inputEx-Expanded")){B.replaceClass(this.fieldset,"inputEx-Expanded","inputEx-Collapsed")}else{B.replaceClass(this.fieldset,"inputEx-Collapsed","inputEx-Expanded")}},validate:function(){for(var F=0;F<this.inputs.length;F++){var E=this.inputs[F];var G=E.getState();if(G==C.stateRequired||G==C.stateInvalid){return false}}return true},enable:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].enable()}},disable:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].disable()}},setValue:function(F){if(!F){return }for(var E=0;E<this.inputs.length;E++){if(this.inputs[E].options.name&&!D.isUndefined(F[this.inputs[E].options.name])){this.inputs[E].setValue(F[this.inputs[E].options.name]);this.inputs[E].setClassFromState()}}},getValue:function(){var G={};for(var F=0;F<this.inputs.length;F++){var E=this.inputs[F].getValue();if(this.inputs[F].options.name){if(this.inputs[F]._flatten&&D.isObject(E)){D.augmentObject(G,E)}else{G[this.inputs[F].options.name]=E}}}return G},close:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].close()}},focus:function(){if(this.inputs.length>0){this.inputs[0].focus()}},getFieldByName:function(E){if(!this.inputsNames.hasOwnProperty(E)){return null}return this.inputsNames[E]}});C.registerType("group",C.Group)})();(function(){var B=YAHOO.util,D=YAHOO.lang,A=YAHOO.util.Event,C=YAHOO.inputEx;C.Form=function(E){C.Form.superclass.constructor.call(this,E)};D.extend(C.Form,C.Group,{setOptions:function(){C.Form.superclass.setOptions.call(this);this.buttons=[];if(this.options.ajax){this.options.ajax.method=this.options.ajax.method||"POST";this.options.ajax.uri=this.options.ajax.uri||"default.php";this.options.ajax.callback=this.options.ajax.callback||{};this.options.ajax.callback.scope=this.options.ajax.callback.scope||this;this.options.ajax.showMask=D.isUndefined(this.options.ajax.showMask)?false:this.options.ajax.showMask}},render:function(){this.divEl=C.cn("div",{className:"inputEx-Group"});this.form=C.cn("form",{method:this.options.method||"POST",action:this.options.action||"",className:this.options.className||"inputEx-Form"});this.divEl.appendChild(this.form);this.form.setAttribute("autocomplete","off");if(this.options.formName){this.form.name=this.options.formName}this.renderFields(this.form);this.renderButtons()},renderButtons:function(){var H=C.cn("div",{className:"inputEx-Form-buttonBar"});var G,E;for(var F=0;F<this.options.buttons.length;F++){G=this.options.buttons[F];E=C.cn("input",{type:G.type,value:G.value});if(G.onClick){E.onclick=G.onClick}this.buttons.push(E);H.appendChild(E)}this.form.appendChild(H)},initEvents:function(){C.Form.superclass.initEvents.call(this);A.addListener(this.form,"submit",this.options.onSubmit||this.onSubmit,this,true)},onSubmit:function(E){if(!this.validate()){A.stopEvent(E)}if(this.options.ajax){A.stopEvent(E);this.asyncRequest()}},asyncRequest:function(){if(this.options.ajax.showMask){this.showMask()}var E="value="+D.JSON.stringify(this.getValue());B.Connect.asyncRequest(this.options.ajax.method,this.options.ajax.uri,{success:function(F){if(this.options.ajax.showMask){this.hideMask()}if(D.isFunction(this.options.ajax.callback.success)){this.options.ajax.callback.success.call(this.options.ajax.callback.scope,F)}},failure:function(F){if(this.options.ajax.showMask){this.hideMask()}if(D.isFunction(this.options.ajax.callback.failure)){this.options.ajax.callback.failure.call(this.options.ajax.callback.scope,F)}},scope:this},E)},renderMask:function(){if(this.maskRendered){return }Dom.setStyle(this.divEl,"position","relative");this.formMask=C.cn("div",{className:"inputEx-Form-Mask"},{display:"none",width:Dom.getStyle(this.divEl,"width"),height:Dom.getStyle(this.divEl,"height")},"<div/><center><br /><img src='../images/spinner.gif'/><br /><span>Envoi en cours...</span></center>");this.divEl.appendChild(this.formMask);this.maskRendered=true},showMask:function(){this.renderMask();this.formMask.style.display=""},hideMask:function(){this.formMask.style.display="none"}});C.registerType("form",C.Form)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Dom;B.CombineField=function(D){B.CombineField.superclass.constructor.call(this,D)};C.extend(B.CombineField,B.Field,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-CombineField";B.CombineField.superclass.setOptions.call(this)},renderComponent:function(){this.inputs=[];this.appendSeparator(0);if(!this.options.fields){return }for(var D=0;D<this.options.fields.length;D++){var E=this.renderField(this.options.fields[D]);E.divEl.removeChild(E.divEl.childNodes[E.divEl.childNodes.length-1]);YAHOO.util.Dom.setStyle(E.getEl(),"float","left");this.fieldContainer.appendChild(E.getEl());this.appendSeparator(D+1)}},appendSeparator:function(E){if(this.options.separators&&this.options.separators[E]){var D=B.cn("div",{className:"inputEx-CombineField-separator"},null,this.options.separators[E]);this.fieldContainer.appendChild(D)}},renderField:function(E){var D=B.buildField(E);this.inputs.push(D);D.updatedEvt.subscribe(this.onChange,this,true);return D},validate:function(){for(var D=0;D<this.inputs.length;D++){if(!this.inputs[D].validate()){return false}}return true},setValue:function(D){for(var E=0;E<this.inputs.length;E++){this.inputs[E].setValue(D[E])}},getValue:function(){var D=[];for(var E=0;E<this.inputs.length;E++){D.push(this.inputs[E].getValue())}return D}});B.registerType("combine",B.CombineField)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Event;B.StringField=function(D){B.StringField.superclass.constructor.call(this,D)};C.extend(B.StringField,B.Field,{setOptions:function(){B.StringField.superclass.setOptions.call(this)},renderComponent:function(){var D={};D.type="text";if(this.options.size){D.size=this.options.size}if(this.options.name){D.name=this.options.name}if(this.options.readonly){D.readonly="readonly"}if(this.options.maxLength){D.maxLength=this.options.maxLength}this.el=B.cn("input",D);this.fieldContainer.appendChild(this.el)},initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true);A.addListener(this.el,"focus",this.onFocus,this,true);A.addListener(this.el,"blur",this.onBlur,this,true)},getValue:function(){return(this.options.typeInvite&&this.el.value==this.options.typeInvite)?"":this.el.value},setValue:function(D){this.el.value=D},validate:function(){var D=this.getValue();if(this.options.regexp){return D.match(this.options.regexp)}if(this.options.minLength){return D.length>=this.options.minLength}return true},disable:function(){this.el.disabled=true},enable:function(){this.el.disabled=false},focus:function(){if(!!this.el&&C.isFunction(this.el.focus)){this.el.focus()}},getState:function(){var D=this.getValue();if(this.options.minLength&&D.length<this.options.minLength){return B.stateInvalid}if(D===""||(this.options.typeInvite&&D==this.options.typeInvite)){return this.options.required?B.stateRequired:B.stateEmpty}return this.validate()?B.stateValid:B.stateInvalid},getStateString:function(D){if(D==B.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength){return B.messages.stringTooShort[0]+this.options.minLength+B.messages.stringTooShort[1]}return B.StringField.superclass.getStateString.call(this,D)},setClassFromState:function(){B.StringField.superclass.setClassFromState.call(this);if(this.options.typeInvite){if(this.previousState==B.stateEmpty){this.el.value=this.options.typeInvite}}},onFocus:function(D){B.StringField.superclass.onFocus.call(this,D);if(this.options.typeInvite){if(this.previousState==B.stateEmpty){this.el.value=""}}}});B.messages.stringTooShort=["This field should contain at least "," numbers or caracters"];B.registerType("string",B.StringField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.AutoComplete=function(E){C.AutoComplete.superclass.constructor.call(this,E);this.validateItemEvt=new YAHOO.util.CustomEvent("validateItem",this)};D.extend(C.AutoComplete,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-AutoComplete";C.AutoComplete.superclass.setOptions.call(this);this.options.highlightClass="inputEx-AutoComplete-ItemHovered";this.options.timerDelay=this.options.timerDelay||300;this.options.query=this.options.query||null;this.options.queryMinLength=this.options.queryMinLength||2},renderComponent:function(){C.AutoComplete.superclass.renderComponent.call(this);this.listEl=C.cn("div",{className:"inputEx-AutoComplete-List"},{display:"none"});this.fieldContainer.appendChild(this.listEl)},initEvents:function(){C.AutoComplete.superclass.initEvents.call(this);A.addListener(this.listEl,"click",this.validateItem,this,true);A.addListener(this.listEl,"mouseover",this.onListMouseOver,this,true);A.addListener(this.el,"keydown",this.onKeyDown,this,true);A.addListener(this.el,"input",this.onInput,this,true)},onKeyDown:function(H){if(H.keyCode==40||H.keyCode==38){var J=-1;for(var E=0;E<this.listEl.childNodes.length;E++){if(this.listEl.childNodes[E]==this.highlightedItem){J=E;break}}var G=this.listEl.childNodes.length-1;var F=(H.keyCode==40)?(J<G?J+1:0):(J!=0?J-1:G);var I=this.listEl.childNodes[F];if(I){this.highlightItem(I);A.stopEvent(H)}}if(H.keyCode==13){this.validateItem();this.fireUpdatedEvt();A.stopEvent(H);return }},onInput:function(F){var E=this.el.value.replace(/^\s+/g,"").replace(/\s+$/g,"");if(E.length>=this.options.queryMinLength){this.resetTimer()}else{this.stopTimer();this.hideList()}},validateItem:function(){var F=-1;for(var E=0;E<this.listEl.childNodes.length;E++){if(this.listEl.childNodes[E]==this.highlightedItem){F=E;break}}if(F==-1){return }this.el.value=this.options.displayAutocompleted.call(this,this.listValues[F]);this.hideList();this.validateItemEvt.fire(this.listValues[F])},hideList:function(){this.listEl.style.display="none"},showList:function(){this.listEl.style.display=""},queryList:function(E){this.options.query.call(this,E)},updateList:function(G){this.listValues=G;this.listEl.innerHTML="";for(var E=0;E<G.length;E++){var F=C.cn("div",{className:"inputEx-AutoComplete-Item"});C.renderVisu(this.options.visuItem,G[E],F);this.listEl.appendChild(F)}this.showList()},resetTimer:function(){if(this.timer){clearTimeout(this.timer)}var E=this;this.timer=setTimeout(function(){E.timerEnd()},this.options.timerDelay)},stopTimer:function(){if(this.timer){clearTimeout(this.timer)}},timerEnd:function(){var E=this.el.value.replace(/^\s+/g,"").replace(/\s+$/g,"");this.queryList(E)},highlightItem:function(E){this.toggleHighlightItem(this.highlightedItem,false);this.toggleHighlightItem(E,true);this.highlightedItem=E},toggleHighlightItem:function(F,E){if(E){B.addClass(F,this.options.highlightClass)}else{B.removeClass(F,this.options.highlightClass)}},onListMouseOver:function(F){var E=A.getTarget(F);if(B.hasClass(E,"inputEx-AutoComplete-Item")){this.highlightItem(E)}}})})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.CheckBox=function(E){C.CheckBox.superclass.constructor.call(this,E)};D.extend(C.CheckBox,C.Field,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-CheckBox";C.CheckBox.superclass.setOptions.call(this);this.sentValues=this.options.sentValues||[true,false];this.checkedValue=this.sentValues[0];this.uncheckedValue=this.sentValues[1]},renderComponent:function(){this.el=C.cn("input",{type:"checkbox",checked:(this.options.checked===false)?false:true});this.fieldContainer.appendChild(this.el);this.rightLabelEl=C.cn("div",{className:"inputEx-CheckBox-rightLabel"},null,this.options.rightLabel||"");this.fieldContainer.appendChild(this.rightLabelEl);this.hiddenEl=C.cn("input",{type:"hidden",name:this.options.name||"",value:this.el.checked?this.checkedValue:this.uncheckedValue});this.fieldContainer.appendChild(this.hiddenEl)},initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true);if(YAHOO.env.ua.ie&&parseInt(YAHOO.env.ua.ie,10)<7){A.addListener(this.el,"click",function(){this.fireUpdatedEvt()},this,true)}},onChange:function(E){this.hiddenEl.value=this.el.checked?this.checkedValue:this.uncheckedValue;C.CheckBox.superclass.onChange.call(this,E)},getValue:function(){return this.el.checked?this.checkedValue:this.uncheckedValue},setValue:function(E){if(E===this.checkedValue){this.hiddenEl.value=E;this.el.checked=true}else{if(E===this.uncheckedValue){this.hiddenEl.value=E;this.el.checked=false}else{throw new Error("inputEx.CheckBox.setValue: "+E+" schould be in ["+this.checkedValue+","+this.uncheckedValue+"]")}}}});C.registerType("boolean",C.CheckBox)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.ColorField=function(E){C.ColorField.superclass.constructor.call(this,E)};D.extend(C.ColorField,C.Field,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-ColorField";C.ColorField.superclass.setOptions.call(this)},renderComponent:function(){this.el=C.cn("input",{type:"hidden",name:this.options.name||"",value:this.options.value||"#DD7870"});this.colorEl=C.cn("div",{className:"inputEx-ColorField-button"},{backgroundColor:this.el.value});this.renderPopUp();this.fieldContainer.appendChild(this.el);this.fieldContainer.appendChild(this.colorEl)},initEvents:function(){A.addListener(this.colorEl,"click",this.toggleColorPopUp,this,true);A.addListener(this.colorEl,"blur",this.closeColorPopUp,this,true)},toggleColorPopUp:function(){if(this.visible){this.colorPopUp.style.display="none"}else{this.colorPopUp.style.display="block"}this.visible=!this.visible},close:function(){this.closeColorPopUp()},closeColorPopUp:function(){this.colorPopUp.style.display="none";this.visible=false},renderPopUp:function(){this.displayTitle=this.options.displayTitle||false;var E=this.options.auto||1;this.colors=this.options.colors||this.setDefaultColors(E);this.length=this.colors.length;this.visible=false;this.colorPopUp=C.cn("div",{className:"inputEx-ColorField-popup"},{display:"none"});if(this.displayTitle){var F=C.cn("div",null,null,C.messages.selectColor);this.colorPopUp.appendChild(F)}this.colorPopUp.appendChild(this.renderColorGrid());this.fieldContainer.appendChild(this.colorPopUp)},setValue:function(E){this.el.value=E;B.setStyle(this.colorEl,"background-color",this.el.value)},setDefaultColors:function(E){return C.ColorField.palettes[E-1]},renderColorGrid:function(){var F=C.cn("div");for(var E=0;E<this.length;E++){var G=C.cn("div",{className:"inputEx-ColorField-square"},{backgroundColor:"#"+this.colors[E]});A.addListener(G,"mousedown",this.onColorClick,this,true);F.appendChild(G)}return F},onColorClick:function(G){var F=A.getTarget(G);A.stopEvent(G);var E=B.getStyle(F,"background-color");B.setStyle(this.colorEl,"background-color",E);var H=function(I){var K=function(Q){var N=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");var M=16;var P=parseInt(Q,10);var O;var L="";if(!isNaN(P)){if(P==""){return"00"}while(P>0){O=0;while(P/Math.pow(M,O++)>=M){}L+=N[Math.floor(P/Math.pow(M,O-1))];if(P%M==0){L+="0"}P=(P%Math.pow(M,O-1))}if(L.length==1){return"0"+L}return L}else{return 0}};var J=I.split(/([(,)])/);return"#"+K(J[2])+K(J[4])+K(J[6])};this.el.value=H(E);this.visible=!this.visible;this.colorPopUp.style.display="none";this.fireUpdatedEvt()},getValue:function(){return this.el.value}});C.messages.selectColor="Select a color :";C.ColorField.palettes=[["FFEA99","FFFF66","FFCC99","FFCAB2","FF99AD","FFD6FF","FF6666","E8EEF7","ADC2FF","ADADFF","CCFFFF","D6EAAD","B5EDBC","CCFF99"],["55AAFF","FFAAFF","FF7FAA","FF0202","FFD42A","F9F93B","DF8181","FEE3E2","D47FFF","2AD4FF","2AFFFF","AAFFD4"],["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","F0F0F0"]];C.registerType("color",C.ColorField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.DateField=function(E){if(!E){var E={}}if(!E.messages){E.messages={}}if(!E.dateFormat){E.dateFormat="m/d/Y"}E.messages.invalid=C.messages.invalidDate;C.DateField.superclass.constructor.call(this,E)};D.extend(C.DateField,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-DateField";C.DateField.superclass.setOptions.call(this)},validate:function(){var I=this.el.value;var H=I.split("/");if(H.length!=3){return false}if(isNaN(parseInt(H[0]))||isNaN(parseInt(H[1]))||isNaN(parseInt(H[2]))){return false}var J=this.options.dateFormat.split("/");if(H[J.indexOf("Y")].length!=4){return false}var L=parseInt(H[C.indexOf("d",J)],10);var K=parseInt(H[C.indexOf("Y",J)],10);var F=parseInt(H[C.indexOf("m",J)],10)-1;var G=new Date(K,F,L);var E=G.getFullYear();return((G.getDate()==L)&&(G.getMonth()==F)&&(E==K))},setValue:function(H){if(H===""){this.el.value="";return }var G="";if(H instanceof Date){G=this.options.dateFormat.replace("Y",H.getFullYear());var E=H.getMonth()+1;G=G.replace("m",((E<10)?"0":"")+E);var F=H.getDate();G=G.replace("d",((F<10)?"0":"")+F)}else{G=H}this.el.value=G},getValue:function(){if(this.el.value===""){return""}var F=this.el.value.split("/");var G=this.options.dateFormat.split("/");var I=parseInt(F[C.indexOf("d",G)],10);var H=parseInt(F[C.indexOf("Y",G)],10);var E=parseInt(F[C.indexOf("m",G)],10)-1;return(new Date(H,E,I))}});C.messages.invalidDate="Invalid date, ex: 03/27/2008";C.registerType("date",C.DateField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.DatePickerField=function(E){C.DatePickerField.superclass.constructor.call(this,E)};D.extend(C.DatePickerField,C.DateField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-DateField inputEx-DatePickerField";C.DatePickerField.superclass.setOptions.call(this);this.options.calendar=this.options.calendar||{navigator:true};this.options.readonly=true},renderComponent:function(){C.DatePickerField.superclass.renderComponent.call(this);this.oOverlay=new YAHOO.widget.Overlay(B.generateId());this.oOverlay.setBody(" ");this.oOverlay.body.id=B.generateId();this.button=new YAHOO.widget.Button({type:"menu",menu:this.oOverlay,label:"&nbsp;&nbsp;&nbsp;&nbsp;"});this.button._hideMenu=function(){if(this._menu){if(this.preventHide){this._showMenu();return }this._menu.hide()}};this.button.appendTo(this.fieldContainer);this.button.on("click",this.onButtonClick,this,true)},onButtonClick:function(){this.oOverlay.render(this.fieldContainer);this.calendar=new YAHOO.widget.Calendar(B.generateId(),this.oOverlay.body.id,this.options.calendar);this.calendar.render();this.calendar.selectEvent.subscribe(function(I,G,K){this.oOverlay.hide();var F=G[0][0];var H=F[0],J=F[1],E=F[2];this.setValue(new Date(H,J-1,E))},this,true);this.calendar.changePageEvent.subscribe(function(){this.button.preventHide=true;var E=this;window.setTimeout(function(){E.button.preventHide=false},0)},this,true);this.button.unsubscribe("click",this.onButtonClick)}});C.registerType("datepicker",C.DatePickerField)})();(function(){var A=YAHOO.inputEx;A.EmailField=function(B){A.EmailField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.EmailField,A.StringField,{setOptions:function(){A.EmailField.superclass.setOptions.call(this);this.options.messages.invalid=A.messages.invalidEmail;this.options.regexp=A.regexps.email},getValue:function(){return this.el.value.toLowerCase()}});A.messages.invalidEmail="Invalid email, ex: sample@test.com";A.registerType("email",A.EmailField)})();(function(){var A=YAHOO.inputEx;A.HiddenField=function(B){A.HiddenField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.HiddenField,A.Field,{render:function(){this.type=A.HiddenField;this.divEl=A.cn("div",null,{display:"none"})},setValue:function(B){this.value=B},getValue:function(){return this.value}});A.registerType("hidden",A.HiddenField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.InPlaceEdit=function(E){C.InPlaceEdit.superclass.constructor.call(this,E)};D.extend(C.InPlaceEdit,C.Field,{renderComponent:function(){this.renderVisuDiv();this.renderEditor()},renderEditor:function(){this.editorContainer=C.cn("div",null,{display:"none"});this.editorField=C.buildField(this.options.editorField);this.editorContainer.appendChild(this.editorField.getEl());B.setStyle(this.editorField.getEl(),"float","left");this.okButton=C.cn("input",{type:"button",value:"Ok",className:"inputEx-InPlaceEdit-OkButton"});B.setStyle(this.okButton,"float","left");this.editorContainer.appendChild(this.okButton);this.cancelLink=C.cn("a",{className:"inputEx-InPlaceEdit-CancelLink"},null,"cancel");this.cancelLink.href="";B.setStyle(this.cancelLink,"float","left");this.editorContainer.appendChild(this.cancelLink);this.editorContainer.appendChild(C.cn("div",null,{clear:"both"}));this.fieldContainer.appendChild(this.editorContainer)},onVisuMouseOver:function(E){if(this.colorAnim){this.colorAnim.stop(true)}C.sn(this.formattedContainer,null,{backgroundColor:"#eeee33"})},onVisuMouseOut:function(E){if(this.colorAnim){this.colorAnim.stop(true)}this.colorAnim=new YAHOO.util.ColorAnim(this.formattedContainer,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.colorAnim.onComplete.subscribe(function(){B.setStyle(this.formattedContainer,"background-color","")},this,true);this.colorAnim.animate()},renderVisuDiv:function(){this.formattedContainer=C.cn("div",{className:"inputEx-InPlaceEdit-visu"});if(D.isFunction(this.options.formatDom)){this.formattedContainer.appendChild(this.options.formatDom(this.options.value))}else{if(D.isFunction(this.options.formatValue)){this.formattedContainer.innerHTML=this.options.formatValue(this.options.value)}else{this.formattedContainer.innerHTML=D.isUndefined(this.options.value)?C.messages.emptyInPlaceEdit:this.options.value}}this.fieldContainer.appendChild(this.formattedContainer)},initEvents:function(){A.addListener(this.formattedContainer,"click",this.openEditor,this,true);A.addListener(this.formattedContainer,"mouseover",this.onVisuMouseOver,this,true);A.addListener(this.formattedContainer,"mouseout",this.onVisuMouseOut,this,true);A.addListener(this.okButton,"click",this.onOkEditor,this,true);A.addListener(this.cancelLink,"click",this.onCancelEditor,this,true);if(this.editorField.el){A.addListener(this.editorField.el,"keyup",this.onKeyUp,this,true);A.addListener(this.editorField.el,"keydown",this.onKeyDown,this,true);A.addListener(this.editorField.el,"blur",this.onCancelEditor,this,true)}},onKeyUp:function(E){if(E.keyCode==13){this.onOkEditor()}if(E.keyCode==27){this.onCancelEditor(E)}},onKeyDown:function(E){if(E.keyCode==9){this.onOkEditor()}},onOkEditor:function(){var F=this.editorField.getValue();this.setValue(F);this.editorContainer.style.display="none";this.formattedContainer.style.display="";var E=this;setTimeout(function(){E.updatedEvt.fire(F)},50)},onCancelEditor:function(E){A.stopEvent(E);this.editorContainer.style.display="none";this.formattedContainer.style.display=""},openEditor:function(){var E=this.getValue();this.editorContainer.style.display="";this.formattedContainer.style.display="none";if(!D.isUndefined(E)){this.editorField.setValue(E)}this.editorField.focus();if(this.editorField.el&&D.isFunction(this.editorField.el.setSelectionRange)&&(!!E&&!!E.length)){this.editorField.el.setSelectionRange(0,E.length)}},getValue:function(){return this.value},setValue:function(E){this.value=E;if(D.isUndefined(E)||E==""){C.renderVisu(this.options.visu,C.messages.emptyInPlaceEdit,this.formattedContainer)}else{C.renderVisu(this.options.visu,this.value,this.formattedContainer)}}});C.messages.emptyInPlaceEdit="(click to edit)";C.registerType("inplaceedit",C.InPlaceEdit)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Event;B.IntegerField=function(D){B.IntegerField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.IntegerField,B.StringField,{setOptions:function(){B.IntegerField.superclass.setOptions.call(this);this.options.radix=this.options.radix||10},initEvents:function(){B.IntegerField.superclass.initEvents.call(this);var D=this;A.addListener(this.el,"keypress",function(E){setTimeout(function(){D.onInput(E)},50)})},onInput:function(E){try{this.setValue(this.getValue());this.setClassFromState()}catch(D){console.log(D)}},setValue:function(D){if(isNaN(D)){this.el.value=""}else{if(C.isNumber(D)){this.el.value=Math.floor(D).toString(this.options.radix)}else{if(C.isString(D)){this.el.value=D.toString(this.options.radix)}}}},getValue:function(){return parseInt(this.el.value,this.options.radix)}});B.registerType("integer",B.IntegerField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.ListField=function(E){this.subFields=[];C.ListField.superclass.constructor.call(this,E)};D.extend(C.ListField,C.Field,{setOptions:function(){C.ListField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-ListField";this.options.sortable=D.isUndefined(this.options.sortable)?false:this.options.sortable;this.options.elementType=this.options.elementType||{type:"string"}},renderComponent:function(){this.addButton=C.cn("img",{src:C.spacerUrl,className:"inputEx-ListField-addButton"});this.fieldContainer.appendChild(this.addButton);this.fieldContainer.appendChild(C.cn("span",null,{marginLeft:"4px"},this.options.listLabel));this.childContainer=C.cn("div",{className:"inputEx-ListField-childContainer"});this.fieldContainer.appendChild(this.childContainer)},initEvents:function(){A.addListener(this.addButton,"click",this.onAddButton,this,true)},setValue:function(G){if(!D.isArray(G)){return }for(var F=0;F<G.length;F++){if(F==this.subFields.length){this.addElement(G[F])}else{this.subFields[F].setValue(G[F])}}var E=this.subFields.length-G.length;if(E>0){for(var F=0;F<E;F++){this.removeElement(G.length)}}},getValue:function(){var E=[];for(var F=0;F<this.subFields.length;F++){E[F]=this.subFields[F].getValue()}return E},addElement:function(F){var E=this.renderSubField(F);this.subFields.push(E);return E},onAddButton:function(F){A.stopEvent(F);var E=this.addElement();E.focus();this.fireUpdatedEvt()},renderSubField:function(L){var H=C.cn("div");var F=C.cn("img",{src:C.spacerUrl,className:"inputEx-ListField-delButton"});A.addListener(F,"click",this.onDelete,this,true);H.appendChild(F);var K=D.merge({},this.options.elementType);if(!K.inputParams){K.inputParams={}}if(!YAHOO.lang.isUndefined(L)){K.inputParams.value=L}var I=C.buildField(K);var G=I.getEl();B.setStyle(G,"margin-left","4px");B.setStyle(G,"float","left");H.appendChild(G);I.updatedEvt.subscribe(this.onChange,this,true);if(this.options.sortable){var J=C.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowUp"});A.addListener(J,"click",this.onArrowUp,this,true);var E=C.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowDown"});A.addListener(E,"click",this.onArrowDown,this,true);H.appendChild(J);H.appendChild(E)}H.appendChild(C.cn("div",null,{clear:"both"}));this.childContainer.appendChild(H);return I},onArrowUp:function(K){var H=A.getTarget(K).parentNode;var F=null;var G=-1;for(var I=1;I<H.parentNode.childNodes.length;I++){var E=H.parentNode.childNodes[I];if(E==H){F=H.parentNode.childNodes[I-1];G=I;break}}if(F){var L=this.childContainer.removeChild(H);var J=this.childContainer.insertBefore(L,F);var M=this.subFields[G];this.subFields[G]=this.subFields[G-1];this.subFields[G-1]=M;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(J,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},0.4);this.arrowAnim.onComplete.subscribe(function(){B.setStyle(J,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}},onArrowDown:function(K){var G=A.getTarget(K).parentNode;var F=-1;var J=null;for(var H=0;H<G.parentNode.childNodes.length;H++){var E=G.parentNode.childNodes[H];if(E==G){J=G.parentNode.childNodes[H+1];F=H;break}}if(J){var L=this.childContainer.removeChild(G);var I=B.insertAfter(L,J);var M=this.subFields[F];this.subFields[F]=this.subFields[F+1];this.subFields[F+1]=M;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(I,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.arrowAnim.onComplete.subscribe(function(){B.setStyle(I,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}},onDelete:function(I){A.stopEvent(I);var F=A.getTarget(I).parentNode;var E=-1;var H=F.childNodes[1];for(var G=0;G<this.subFields.length;G++){if(this.subFields[G].getEl()==H){E=G;break}}if(E!=-1){this.removeElement(E)}this.updatedEvt.fire(this.getValue())},removeElement:function(F){var E=this.subFields[F].getEl().parentNode;this.subFields[F]=undefined;this.subFields=C.compactArray(this.subFields);E.parentNode.removeChild(E)}});C.registerType("list",C.ListField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.NumberField=function(D){B.NumberField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.NumberField,B.StringField,{getValue:function(){return parseFloat(this.el.value)},validate:function(){var D=this.getValue();if(isNaN(D)){return false}var E=String(D);return E.match(/^(\+?((([0-9]+(\.)?)|([0-9]*\.[0-9]+))([eE][+-]?[0-9]+)?))$/)}});B.registerType("number",B.NumberField)})();(function(){var A=YAHOO.inputEx;A.PairField=function(B){B.fields=[B.leftFieldOptions||{},B.rightFieldOptions||{}];B.separators=[false," : ",false];A.PairField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.PairField,A.CombineField);A.registerType("pair",A.PairField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event;B.PasswordField=function(C){B.PasswordField.superclass.constructor.call(this,C)};YAHOO.lang.extend(B.PasswordField,B.StringField,{initEvents:function(){B.PasswordField.superclass.initEvents.call(this);A.addListener(this.el,"keypress",this.onKeyPress,this,true)},setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-PasswordField";B.PasswordField.superclass.setOptions.call(this);this.options.regexp=B.regexps.password;this.options.strengthIndicator=YAHOO.lang.isUndefined(this.options.strengthIndicator)?false:this.options.strengthIndicator;this.options.capsLockWarning=YAHOO.lang.isUndefined(this.options.capsLockWarning)?false:this.options.capsLockWarning},renderComponent:function(){var C={};C.type="password";C.size=this.options.size;if(this.options.name){C.name=this.options.name}this.el=B.cn("input",C);this.fieldContainer.appendChild(this.el);if(this.options.capsLockWarning){this.capsLockWarning=B.cn("div",{className:"capsLockWarning"},{display:"none"},B.messages.capslockWarning);this.fieldContainer.appendChild(this.capsLockWarning)}if(this.options.strengthIndicator){this.strengthEl=B.cn("div",{className:"inputEx-Password-StrengthIndicator"},null,"Password Strength");this.strengthBlocks=[];for(var D=0;D<4;D++){this.strengthBlocks[D]=B.cn("div",{className:"inputEx-Password-StrengthIndicatorBlock"});this.strengthEl.appendChild(this.strengthBlocks[D])}this.fieldContainer.appendChild(this.strengthEl)}},setConfirmationField:function(C){this.options.confirmPasswordField=C;this.options.messages.invalid=B.messages.invalidPasswordConfirmation;this.options.confirmPasswordField.options.confirmationPasswordField=this},validate:function(){if(this.options.confirmPasswordField){if(this.options.confirmPasswordField.getValue()==this.getValue()){return false}}return B.PasswordField.superclass.validate.call(this)},getStateString:function(C){if(C==B.stateInvalid&&this.options.minLength&&this.el.value.length<this.options.minLength){return B.messages.invalidPassword[0]+this.options.minLength+B.messages.invalidPassword[1]}return B.StringField.superclass.getStateString.call(this,C)},onInput:function(C){B.PasswordField.superclass.onInput.call(this,C);if(this.options.confirmationPasswordField){this.options.confirmationPasswordField.setClassFromState()}},onKeyPress:function(G){if(this.options.capsLockWarning){var F=G?G:window.event;if(!F){return }var D=F.target?F.target:F.srcElement;var H=-1;if(F.which){H=F.which}else{if(F.keyCode){H=F.keyCode}}var E=false;if(F.shiftKey){E=F.shiftKey}else{if(F.modifiers){E=!!(F.modifiers&4)}}var C=((H>=65&&H<=90)&&!E)||((H>=97&&H<=122)&&E);this.setCapsLockWarning(C)}if(this.options.strengthIndicator){YAHOO.lang.later(100,this,"updateStrengthIndicator")}},setCapsLockWarning:function(C){this.capsLockWarning.style.display=C?"":"none"},updateStrengthIndicator:function(){var E=B.PasswordField.getPasswordStrength(this.getValue());for(var D=0;D<4;D++){var C=(E>=D*25)&&(E>0);YAHOO.util.Dom.setStyle(this.strengthBlocks[D],"background-color",C?"#4AE817":"#FFFFFF")}}});B.PasswordField.getPasswordStrength=function(J){var F=(J.length);if(F>7){F=7}var H=J.replace(/[0-9]/g,"");var I=(J.length-H.length);if(I>3){I=3}var C=J.replace(/\W/g,"");var E=(J.length-C.length);if(E>3){E=3}var D=J.replace(/[A-Z]/g,"");var K=(J.length-D.length);if(K>3){K=3}var G=((F*10)-20)+(I*10)+(E*20)+(K*10);if(G<0){G=0}if(G>100){G=100}return G};B.messages.invalidPassword=["The password schould contain at least "," numbers or caracters"];B.messages.invalidPasswordConfirmation="Passwords are different !";B.messages.capslockWarning="Warning: CapsLock is on";B.registerType("password",B.PasswordField)})();(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.RTEField=function(C){A.RTEField.superclass.constructor.call(this,C)};B.extend(A.RTEField,A.Field,{renderComponent:function(){if(!A.RTEfieldsNumber){A.RTEfieldsNumber=0}var G="inputEx-RTEField-"+A.RTEfieldsNumber;this.el=A.cn("textarea",{id:G});A.RTEfieldsNumber+=1;this.fieldContainer.appendChild(this.el);if(!this.options.opts){this.options.opts={}}var E={height:"300px",width:"522px",dompath:true};var F=this.options.opts;for(var D in F){if(B.hasOwnProperty(F,D)){E[D]=F[D]}}var C=((this.options.type&&(this.options.type=="simple"))?YAHOO.widget.SimpleEditor:YAHOO.widget.Editor);if(C){this.editor=new C(G,E);this.editor.render()}else{alert("Editor is not on the page")}},setValue:function(C){if(this.editor){this.editor.setEditorHTML(C)}},getValue:function(){try{return this.editor.getEditorHTML()}catch(C){}}});A.registerType("html",A.RTEField)})();(function(){var A=YAHOO.inputEx;A.SelectField=function(B){A.SelectField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.SelectField,A.Field,{renderComponent:function(){this.el=A.cn("select",{name:this.options.name||""});if(this.options.multiple){this.el.multiple=true;this.el.size=this.options.selectValues.length}this.optionEls=[];for(var B=0;B<this.options.selectValues.length;B++){this.optionEls[B]=A.cn("option",{value:this.options.selectValues[B]},null,(this.options.selectOptions)?this.options.selectOptions[B]:this.options.selectValues[B]);this.el.appendChild(this.optionEls[B])}this.fieldContainer.appendChild(this.el)},initEvents:function(){YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true)},setValue:function(E){var B=0;var D;for(var C=0;C<this.options.selectValues.length;C++){if(E===this.options.selectValues[C]){D=this.el.childNodes[C];D.selected="selected"}}},getValue:function(){return this.options.selectValues[this.el.selectedIndex]},disable:function(){this.el.disabled=true},enable:function(){this.el.disabled=false}});A.registerType("select",A.SelectField)})();(function(){var A=YAHOO.inputEx;A.Textarea=function(B){A.Textarea.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.Textarea,A.Field,{initEvents:function(){YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true)},setOptions:function(){A.Textarea.superclass.setOptions.call(this);this.options.rows=this.options.rows||6;this.options.cols=this.options.cols||23},renderComponent:function(){this.el=A.cn("textarea",{rows:this.options.rows,cols:this.options.cols},null,this.options.value);this.fieldContainer.appendChild(this.el)},setValue:function(B){this.el.value=B},getValue:function(){return this.el.value}});A.registerType("text",A.Textarea)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.TimeField=function(E){var I=[];for(var G=0;G<24;G++){var H="";if(G<10){H="0"}H+=G;I.push(H)}var D=[];var F=[];for(var G=0;G<60;G++){var H="";if(G<10){H="0"}H+=G;D.push(H);F.push(H)}E.fields=[{type:"select",inputParams:{selectOptions:I,selectValues:I}},{type:"select",inputParams:{selectOptions:D,selectValues:D}},{type:"select",inputParams:{selectOptions:F,selectValues:F}}];E.separators=E.separators||[false,":",":",false];B.TimeField.superclass.constructor.call(this,E)};YAHOO.lang.extend(B.TimeField,B.CombineField,{getValue:function(){var D=B.TimeField.superclass.getValue.call(this);return D.join(":")},setValue:function(D){B.TimeField.superclass.setValue.call(this,D.split(":"))}});B.registerType("time",B.TimeField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.DateTimeField=function(D){D.fields=[{type:"datepicker",inputParams:{}},{type:"time",inputParams:{}}];if(D.dateFormat){D.fields[0].inputParams.dateFormat=D.dateFormat}D.separators=D.separators||[false,"&nbsp;&nbsp;",false];B.DateTimeField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.DateTimeField,B.CombineField,{getValue:function(){var E=this.inputs[0].getValue();if(E==""){return null}var D=this.inputs[1].getValue().split(":");E.setHours(D[0]);E.setMinutes(D[1]);E.setSeconds(D[2]);return E},setValue:function(D){if(!YAHOO.lang.isObject(D)){return }this.inputs[0].setValue(D);this.inputs[1].setValue(([D.getHours(),D.getMinutes(),D.getSeconds()]).join(":"))}});B.registerType("datetime",B.DateTimeField)})();(function(){var A=YAHOO.inputEx;A.UneditableField=function(B){A.UneditableField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.UneditableField,A.Field,{render:function(){this.divEl=A.cn("div")},setValue:function(B){this.value=B;A.renderVisu(this.options.visu,B,this.divEl)},getValue:function(){return this.value}});A.registerType("uneditable",A.UneditableField)})();(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.UrlField=function(C){A.UrlField.superclass.constructor.call(this,C)};B.extend(A.UrlField,A.StringField,{setOptions:function(){A.UrlField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-UrlField";this.options.messages.invalid=A.messages.invalidUrl;this.options.favicon=B.isUndefined(this.options.favicon)?true:this.options.favicon},setValue:function(C){this.el.value=C;this.validate()},render:function(){A.UrlField.superclass.render.call(this);this.el.size=27;if(!this.options.favicon){YAHOO.util.Dom.addClass(this.el,"nofavicon")}if(this.options.favicon){this.favicon=A.cn("img",{src:A.spacerUrl});this.fieldContainer.insertBefore(this.favicon,this.el)}},validate:function(){var D=this.getValue().match(A.regexps.url);if(this.options.favicon){var C=D?(D[0]+"/favicon.ico"):A.spacerUrl;if(C!=this.favicon.src){A.sn(this.favicon,null,{visibility:"hidden"});this.favicon.src=C;if(this.timer){clearTimeout(this.timer)}var E=this;this.timer=setTimeout(function(){E.displayFavicon()},1000)}}return !!D},displayFavicon:function(){A.sn(this.favicon,null,{visibility:(this.favicon.naturalWidth!=0)?"visible":"hidden"})}});A.messages.invalidUrl="Invalid URL, ex: http://www.test.com";A.registerType("url",A.UrlField)})();(function(){var D=YAHOO.inputEx,B=YAHOO.util.DragDropMgr,C=YAHOO.util.Dom,A=YAHOO.util.Event;D.widget.DDListItem=function(E){D.widget.DDListItem.superclass.constructor.call(this,E);this.setXConstraint(0,0);this.goingUp=false;this.lastY=0};YAHOO.extend(D.widget.DDListItem,YAHOO.util.DDProxy,{startDrag:function(F,H){var E=this.getDragEl();var G=this.getEl();C.setStyle(G,"visibility","hidden");E.className=G.className;E.innerHTML=G.innerHTML},endDrag:function(E){C.setStyle(this.id,"visibility","")},onDragDrop:function(I,J){if(B.interactionInfo.drop.length===1){var H=B.interactionInfo.point;var G=B.interactionInfo.sourceRegion;if(!G.intersect(H)){var E=C.get(J);if(E.nodeName.toLowerCase()!="li"){var F=B.getDDById(J);E.appendChild(this.getEl());F.isEmpty=false;B.refreshCache()}}}},onDrag:function(E){var F=A.getPageY(E);if(F<this.lastY){this.goingUp=true}else{if(F>this.lastY){this.goingUp=false}}this.lastY=F},onDragOver:function(I,J){var G=this.getEl();var F=C.get(J);if(F.nodeName.toLowerCase()=="li"){var E=G.parentNode;var H=F.parentNode;if(this.goingUp){H.insertBefore(G,F)}else{H.insertBefore(G,F.nextSibling)}B.refreshCache()}}});D.widget.DDList=function(E){this.ul=D.cn("ul");if(E.id){this.ul.id=E.id}if(E.value){this.setValue(E.value)}this.itemRemovedEvt=new YAHOO.util.CustomEvent("itemRemoved",this);if(E.parentEl){if(YAHOO.lang.isString(E.parentEl)){C.get(E.parentEl).appendChild(this.ul)}else{E.parentEl.appendChild(this.ul)}}};D.widget.DDList.prototype={addItem:function(F){var E=D.cn("li",{className:"inputEx-DDList-item"});E.appendChild(D.cn("span",null,null,F));var G=D.cn("a",null,null,"remove");E.appendChild(G);A.addListener(G,"click",function(J){var I=A.getTarget(J);var H=I.parentNode;this.removeItem(D.indexOf(H,this.ul.childNodes))},this,true);new D.widget.DDListItem(E);this.ul.appendChild(E)},removeItem:function(E){var F=this.ul.childNodes[E].childNodes[0].innerHTML;this.ul.removeChild(this.ul.childNodes[E]);this.itemRemovedEvt.fire(F)},getValue:function(){var F=[];for(var E=0;E<this.ul.childNodes.length;E++){F.push(this.ul.childNodes[E].childNodes[0].innerHTML)}return F},updateItem:function(E,F){this.ul.childNodes[E].childeNodes[0].innerHTML=F},setValue:function(F){for(var E=0;E<F.length;E++){if(this.ul.childNodes.length>E){this.updateItem(E,F[E])}else{this.addItem(F[E])}}}}})();(function(){var A=YAHOO.inputEx;A.MultiSelectField=function(B){A.MultiSelectField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.MultiSelectField,A.SelectField,{renderComponent:function(){A.MultiSelectField.superclass.renderComponent.call(this);this.ddlist=new A.widget.DDList({parentEl:this.fieldContainer})},initEvents:function(){YAHOO.util.Event.addListener(this.el,"change",this.onAddNewItem,this,true);this.ddlist.itemRemovedEvt.subscribe(this.onItemRemoved,this,true)},onItemRemoved:function(C,E){var D=E[0];var B=A.indexOf(D,this.options.selectValues);this.el.childNodes[B].disabled=false},onAddNewItem:function(){if(this.el.selectedIndex!=0){this.ddlist.addItem(this.options.selectValues[this.el.selectedIndex]);this.el.childNodes[this.el.selectedIndex].disabled=true;this.el.selectedIndex=0}},setValue:function(D){this.ddlist.setValue(D);for(var C=0;C<this.el.childNodes.length;C++){this.el.childNodes[C].disabled=false}for(C=0;C<D.length;C++){var B=A.indexOf(D[C],this.options.selectValues);this.el.childNodes[B].disabled=true}},getValue:function(){return this.ddlist.getValue()}});A.registerType("multiselect",A.MultiSelectField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.AutoComplete=function(E){C.AutoComplete.superclass.constructor.call(this,E);this.validateItemEvt=new YAHOO.util.CustomEvent("validateItem",this)};D.extend(C.AutoComplete,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-AutoComplete";C.AutoComplete.superclass.setOptions.call(this);this.options.highlightClass="inputEx-AutoComplete-ItemHovered";this.options.timerDelay=this.options.timerDelay||300;this.options.query=this.options.query||null;this.options.queryMinLength=this.options.queryMinLength||2},renderComponent:function(){C.AutoComplete.superclass.renderComponent.call(this);this.listEl=C.cn("div",{className:"inputEx-AutoComplete-List"},{display:"none"});this.fieldContainer.appendChild(this.listEl)},initEvents:function(){C.AutoComplete.superclass.initEvents.call(this);A.addListener(this.listEl,"click",this.validateItem,this,true);A.addListener(this.listEl,"mouseover",this.onListMouseOver,this,true);A.addListener(this.el,"keydown",this.onKeyDown,this,true);A.addListener(this.el,"input",this.onInput,this,true)},onKeyDown:function(H){if(H.keyCode==40||H.keyCode==38){var J=-1;for(var E=0;E<this.listEl.childNodes.length;E++){if(this.listEl.childNodes[E]==this.highlightedItem){J=E;break}}var G=this.listEl.childNodes.length-1;var F=(H.keyCode==40)?(J<G?J+1:0):(J!=0?J-1:G);var I=this.listEl.childNodes[F];if(I){this.highlightItem(I);A.stopEvent(H)}}if(H.keyCode==13){this.validateItem();this.fireUpdatedEvt();A.stopEvent(H);return }},onInput:function(F){var E=this.el.value.replace(/^\s+/g,"").replace(/\s+$/g,"");if(E.length>=this.options.queryMinLength){this.resetTimer()}else{this.stopTimer();this.hideList()}},validateItem:function(){var F=-1;for(var E=0;E<this.listEl.childNodes.length;E++){if(this.listEl.childNodes[E]==this.highlightedItem){F=E;break}}if(F==-1){return }this.el.value=this.options.displayAutocompleted.call(this,this.listValues[F]);this.hideList();this.validateItemEvt.fire(this.listValues[F])},hideList:function(){this.listEl.style.display="none"},showList:function(){this.listEl.style.display=""},queryList:function(E){this.options.query.call(this,E)},updateList:function(G){this.listValues=G;this.listEl.innerHTML="";for(var E=0;E<G.length;E++){var F=C.cn("div",{className:"inputEx-AutoComplete-Item"});C.renderVisu(this.options.visuItem,G[E],F);this.listEl.appendChild(F)}this.showList()},resetTimer:function(){if(this.timer){clearTimeout(this.timer)}var E=this;this.timer=setTimeout(function(){E.timerEnd()},this.options.timerDelay)},stopTimer:function(){if(this.timer){clearTimeout(this.timer)}},timerEnd:function(){var E=this.el.value.replace(/^\s+/g,"").replace(/\s+$/g,"");this.queryList(E)},highlightItem:function(E){this.toggleHighlightItem(this.highlightedItem,false);this.toggleHighlightItem(E,true);this.highlightedItem=E},toggleHighlightItem:function(F,E){if(E){B.addClass(F,this.options.highlightClass)}else{B.removeClass(F,this.options.highlightClass)}},onListMouseOver:function(F){var E=A.getTarget(F);if(B.hasClass(E,"inputEx-AutoComplete-Item")){this.highlightItem(E)}}})})();(function(){var A=YAHOO.inputEx;A.MultiAutoComplete=function(B){A.MultiAutoComplete.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.MultiAutoComplete,A.AutoComplete,{renderComponent:function(){A.MultiAutoComplete.superclass.renderComponent.call(this);this.ddlist=new A.widget.DDList({parentEl:this.fieldContainer})},validateItem:function(){var C=-1;for(var B=0;B<this.listEl.childNodes.length;B++){if(this.listEl.childNodes[B]==this.highlightedItem){C=B;break}}if(C==-1){return }this.el.value="";this.ddlist.addItem(this.options.displayAutocompleted.call(this,this.listValues[C]));this.hideList();this.validateItemEvt.fire(this.listValues[C])},setValue:function(B){this.ddlist.setValue(B)},getValue:function(){return this.ddlist.getValue()}});A.registerType("multiautocomplete",A.MultiAutoComplete)})()