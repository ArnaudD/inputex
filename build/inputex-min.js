var inputEx={spacerUrl:"images/space.gif",stateEmpty:"empty",stateRequired:"required",stateValid:"valid",stateInvalid:"invalid",messages:{required:"This field is required",invalid:"This field is invalid",valid:"This field is valid"},regexps:{email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ipv4:/^(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)(?:\.(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)){3}$/,url:/^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(([0-9]{1,5})?\/.*)?$/i,password:/^[0-9a-zA-Z\x20-\x7E]*$/},typeClasses:{},registerType:function(A,B){if(typeof A!="string"){throw new Error("inputEx.registerType: first argument must be a string")}if(typeof B!="function"){throw new Error("inputEx.registerType: second argument must be a function")}this.typeClasses[A]=B},getFieldClass:function(A){if(typeof this.typeClasses[A]=="function"){return this.typeClasses[A]}return null},getType:function(A){for(var B in this.typeClasses){if(this.typeClasses.hasOwnProperty(B)){if(this.typeClasses[B]==A){return B}}}return null},buildField:function(A){var B=null;if(A.type){B=this.getFieldClass(A.type);if(B===null){B=inputEx.StringField}}else{B=A.fieldClass?A.fieldClass:inputEx.StringField}var C=new B(A.inputParams);return C},sn:function(D,C,A){if(!D){return }if(C){for(var B in C){var F=C[B];if(typeof (F)=="function"){continue}if(B=="className"){B="class";D.className=F}if(F!==D.getAttribute(B)){try{if(F===false){D.removeAttribute(B)}else{D.setAttribute(B,F)}}catch(E){}}}}if(A){for(var B in A){if(typeof (A[B])=="function"){continue}if(D.style[B]!=A[B]){D.style[B]=A[B]}}}},cn:function(A,C,B,E){var D=document.createElement(A);this.sn(D,C,B);if(E){D.innerHTML=E}return D}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(B){for(var A=0;A<this.length;A++){if(this[A]==B){return A}}return -1}}if(!Array.prototype.compact){Array.prototype.compact=function(){var B=[];for(var A=0;A<this.length;A++){if(this[A]){B.push(this[A])}}return B}}inputEx.Field=function(A){this.options=A||{};this.setOptions();this.render();if(!YAHOO.lang.isUndefined(this.options.value)){this.setValue(this.options.value)}this.updatedEvt=new YAHOO.util.CustomEvent("updated",this);this.initEvents();this.setClassFromState();if(this.options.parentEl){if(typeof this.options.parentEl=="string"){YAHOO.util.Dom.get(this.options.parentEl).appendChild(this.getEl())}else{this.options.parentEl.appendChild(this.getEl())}}};inputEx.Field.prototype={setOptions:function(){this.options.messages=this.options.messages||{};this.options.messages.required=this.options.messages.required||inputEx.messages.required;this.options.messages.invalid=this.options.messages.invalid||inputEx.messages.invalid;this.options.messages.valid=this.options.messages.valid||inputEx.messages.valid;this.options.className=this.options.className||"inputEx-Field";this.options.required=this.options.required?true:false;this.options.tooltipIcon=this.options.tooltipIcon?true:false},render:function(){this.divEl=inputEx.cn("div",{className:this.options.className});this.renderComponent();if(this.options.tooltipIcon){this.tooltipIcon=inputEx.cn("img",{src:inputEx.spacerUrl,className:"inputEx-Field-stateIcon"});if(!inputEx.tooltipCount){inputEx.tooltipCount=0}this.tooltip=new YAHOO.widget.Tooltip("inputEx-tooltip-"+(inputEx.tooltipCount++),{context:this.tooltipIcon,text:""});this.divEl.appendChild(this.tooltipIcon)}},fireUpdatedEvt:function(){if(this.validate()){var A=this;setTimeout(function(){A.updatedEvt.fire(A.getValue())},50)}},renderComponent:function(){},getEl:function(){return this.divEl},initEvents:function(){},getValue:function(){},setValue:function(A){},setClassFromState:function(){if(this.previousState){YAHOO.util.Dom.removeClass(this.getEl(),"inputEx-"+this.previousState)}this.previousState=this.getState();YAHOO.util.Dom.addClass(this.getEl(),"inputEx-"+this.previousState);this.setToolTipMessage()},getStateString:function(A){if(A=="required"){return this.options.messages.required}else{if(A=="invalid"){return this.options.messages.invalid}else{return this.options.messages.valid}}},setToolTipMessage:function(){if(this.tooltip){var A="";if(this.previousState=="required"){A='<div class="inputEx-tooltip-required"></div> <span>'+this.options.messages.required+"</span>"}else{if(this.previousState=="invalid"){A='<div class="inputEx-tooltip-exclamation"></div> <span>'+this.options.messages.invalid+"</span>"}else{A='<div class="inputEx-tooltip-validated"></div> <span>'+this.options.messages.valid+"</span>"}}this.tooltip.setBody(A)}},getState:function(){if(this.getValue()===""){return this.options.required?inputEx.stateRequired:inputEx.stateEmpty}return this.validate()?inputEx.stateValid:inputEx.stateInvalid},validate:function(){return true},onFocus:function(A){YAHOO.util.Dom.addClass(this.getEl(),"inputEx-focused")},onBlur:function(A){YAHOO.util.Dom.removeClass(this.getEl(),"inputEx-focused")},onChange:function(A){this.setClassFromState();this.fireUpdatedEvt()},close:function(){},disable:function(){},enable:function(){}};inputEx.Group=function(A){inputEx.Group.superclass.constructor.call(this,A)};YAHOO.extend(inputEx.Group,inputEx.Field);inputEx.Group.prototype.setOptions=function(){this.options.optionsLabel=this.options.optionsLabel||"Options";this.inputConfigs=this.options.fields;this.inputs=[];this.inputsNames={}};inputEx.Group.prototype.render=function(){this.divEl=inputEx.cn("div",{className:"inputEx-Group"});this.renderFields(this.divEl)};inputEx.Group.prototype.renderFields=function(E){var H=inputEx.cn("table");var F=inputEx.cn("tbody");H.appendChild(F);this.tableOptional=inputEx.cn("table",{className:"inputEx-Group-Options"},{display:"none"});var A=inputEx.cn("tbody");this.tableOptional.appendChild(A);for(var D=0;D<this.inputConfigs.length;D++){var J=this.inputConfigs[D];var G=inputEx.cn("tr");if(J.type=="hidden"){YAHOO.util.Dom.setStyle(G,"display","none")}G.appendChild(inputEx.cn("td",{className:"inputEx-Group-label"},null,J.label||""));var I=this.renderField(J);var B=inputEx.cn("td");B.appendChild(I.getEl());G.appendChild(B);var C=J.optional?A:F;C.appendChild(G)}this.tableNonOptional=H;E.appendChild(H);if(A.childNodes.length>0){this.optionsLabel=inputEx.cn("div",{className:"inputEx-Group-Options-Label inputEx-Group-Options-Label-Collapsed"});this.optionsLabel.appendChild(inputEx.cn("img",{src:inputEx.spacerUrl}));this.optionsLabel.appendChild(inputEx.cn("span",null,null,this.options.optionsLabel));E.appendChild(this.optionsLabel);E.appendChild(this.tableOptional)}};inputEx.Group.prototype.renderField=function(B){var A=inputEx.buildField(B);this.inputs.push(A);if(!!A.el&&!!A.el.name){this.inputsNames[A.el.name]=A}A.updatedEvt.subscribe(this.onChange,this,true);return A};inputEx.Group.prototype.initEvents=function(){YAHOO.util.Event.addListener(this.optionsLabel,"click",this.onClickOptionsLabel,this,true)};inputEx.Group.prototype.onClickOptionsLabel=function(){if(this.tableOptional.style.display=="none"){this.tableOptional.style.display="";YAHOO.util.Dom.replaceClass(this.optionsLabel,"inputEx-Group-Options-Label-Collapsed","inputEx-Group-Options-Label-Expanded")}else{this.tableOptional.style.display="none";YAHOO.util.Dom.replaceClass(this.optionsLabel,"inputEx-Group-Options-Label-Expanded","inputEx-Group-Options-Label-Collapsed")}};inputEx.Group.prototype.getEl=function(){return this.divEl};inputEx.Group.prototype.validate=function(){for(var B=0;B<this.inputs.length;B++){var A=this.inputs[B];var C=A.getState();if(C==inputEx.stateRequired||C==inputEx.stateInvalid){return false}}return true};inputEx.Group.prototype.enable=function(){for(var A=0;A<this.inputs.length;A++){this.inputs[A].enable()}};inputEx.Group.prototype.disable=function(){for(var A=0;A<this.inputs.length;A++){this.inputs[A].disable()}};inputEx.Group.prototype.setValue=function(B){if(!B){return }for(var A=0;A<this.inputs.length;A++){if(this.inputs[A].options.name&&!YAHOO.lang.isUndefined(B[this.inputs[A].options.name])){this.inputs[A].setValue(B[this.inputs[A].options.name]||"");this.inputs[A].setClassFromState()}}};inputEx.Group.prototype.getValue=function(){var B={};for(var A=0;A<this.inputs.length;A++){if(this.inputs[A].options.name){B[this.inputs[A].options.name]=this.inputs[A].getValue()}}return B};inputEx.Group.prototype.close=function(){for(var A=0;A<this.inputs.length;A++){this.inputs[A].close()}};inputEx.registerType("group",inputEx.Group);inputEx.Form=function(A){inputEx.Form.superclass.constructor.call(this,A)};YAHOO.extend(inputEx.Form,inputEx.Group);inputEx.Form.prototype.setOptions=function(){inputEx.Form.superclass.setOptions.call(this);this.buttons=this.options.buttons;if(this.options.ajax){this.options.ajax.method=this.options.ajax.method||"POST";this.options.ajax.uri=this.options.ajax.uri||"default.php";this.options.ajax.callback=this.options.ajax.callback||{};this.options.ajax.callback.scope=this.options.ajax.callback.scope||this}};inputEx.Form.prototype.render=function(){this.divEl=inputEx.cn("div",{className:"inputEx-Group"});this.form=inputEx.cn("form",{method:this.options.method||"POST",action:this.options.action||"",className:this.options.className||"inputEx-Form"});this.divEl.appendChild(this.form);this.form.setAttribute("autocomplete","off");if(this.options.formName){this.form.name=this.options.formName}this.renderFields(this.form);this.renderButtons()};inputEx.Form.prototype.renderButtons=function(){var C,A;for(var B=0;B<this.buttons.length;B++){C=this.buttons[B];A=inputEx.cn("input",{type:C.type,value:C.value});if(C.onClick){A.onclick=C.onClick}this.form.appendChild(A)}};inputEx.Form.prototype.initEvents=function(){inputEx.Form.superclass.initEvents.call(this);YAHOO.util.Event.addListener(this.form,"submit",this.options.onSubmit||this.onSubmit,this,true)};inputEx.Form.prototype.onSubmit=function(A){if(!this.validate()){YAHOO.util.Event.stopEvent(A)}if(this.options.ajax){YAHOO.util.Event.stopEvent(A);this.asyncRequest()}};inputEx.Form.prototype.asyncRequest=function(){var A="value="+YAHOO.lang.JSON.stringify(this.getValue());YAHOO.util.Connect.asyncRequest(this.options.ajax.method,this.options.ajax.uri,{success:function(B){if(typeof this.options.ajax.callback.success=="function"){this.options.ajax.callback.success.call(this.options.ajax.callback.scope,B)}},failure:function(B){if(typeof this.options.ajax.callback.failure=="function"){this.options.ajax.callback.failure.call(this.options.ajax.callback.scope,B)}},scope:this},A)};inputEx.registerType("form",inputEx.Form);inputEx.StringField=function(A){inputEx.StringField.superclass.constructor.call(this,A)};YAHOO.extend(inputEx.StringField,inputEx.Field);inputEx.StringField.prototype.setOptions=function(){inputEx.StringField.superclass.setOptions.call(this);this.options.size=this.options.size||20};inputEx.StringField.prototype.renderComponent=function(){var A={};A.type="text";A.size=this.options.size;if(this.options.name){A.name=this.options.name}this.el=inputEx.cn("input",A);this.divEl.appendChild(this.el)};inputEx.StringField.prototype.getEl=function(){return this.divEl};inputEx.StringField.prototype.initEvents=function(){var A=this;YAHOO.util.Event.addListener(this.el,"keypress",function(B){setTimeout(function(){A.onInput(B)},50)});YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true);YAHOO.util.Event.addListener(this.el,"focus",this.onFocus,this,true);YAHOO.util.Event.addListener(this.el,"blur",this.onBlur,this,true)};inputEx.StringField.prototype.getValue=function(){return this.el.value};inputEx.StringField.prototype.setValue=function(A){this.el.value=A};inputEx.StringField.prototype.onInput=function(A){if(this.options.numbersOnly){this.setValue(this.getValue().replace(/[^0-9]/g,""))}this.setClassFromState()};inputEx.StringField.prototype.validate=function(){if(this.options.regexp){return this.getValue().match(this.options.regexp)}return true};inputEx.StringField.prototype.disable=function(){this.el.disabled=true};inputEx.StringField.prototype.enable=function(){this.el.disabled=false};inputEx.registerType("string",inputEx.StringField);inputEx.AutoComplete=function(A){inputEx.AutoComplete.superclass.constructor.call(this,A)};YAHOO.extend(inputEx.AutoComplete,inputEx.StringField);inputEx.AutoComplete.prototype.setOptions=function(){this.options.className=this.options.className||"inputEx-Field inputEx-AutoComplete";inputEx.AutoComplete.superclass.setOptions.call(this);this.options.highlightClass="inputEx-AutoComplete-ItemHovered";this.options.timerDelay=this.options.timerDelay||300;this.options.query=this.options.query||null;this.options.queryMinLength=this.options.queryMinLength||2;this.options.displayEl=this.options.displayEl||function(A){return inputEx.cn("div",null,null,A)}};inputEx.AutoComplete.prototype.renderComponent=function(){inputEx.AutoComplete.superclass.renderComponent.call(this);this.listEl=inputEx.cn("div",{className:"inputEx-AutoComplete-List"},{display:"none"});this.divEl.appendChild(this.listEl)};inputEx.AutoComplete.prototype.initEvents=function(){inputEx.AutoComplete.superclass.initEvents.call(this);YAHOO.util.Event.addListener(this.listEl,"click",this.validateItem,this,true);YAHOO.util.Event.addListener(this.listEl,"mouseover",this.onListMouseOver,this,true);YAHOO.util.Event.addListener(this.el,"keydown",this.onKeyDown,this,true)};inputEx.AutoComplete.prototype.onKeyDown=function(D){if(D.keyCode==40||D.keyCode==38){var F=-1;for(var A=0;A<this.listEl.childNodes.length;A++){if(this.listEl.childNodes[A]==this.highlightedItem){F=A;break}}var C=this.listEl.childNodes.length-1;var B=(D.keyCode==40)?(F<C?F+1:0):(F!=0?F-1:C);var E=this.listEl.childNodes[B];if(E){this.highlightItem(E);YAHOO.util.Event.stopEvent(D)}}};inputEx.AutoComplete.prototype.onInput=function(B){inputEx.AutoComplete.superclass.onInput.call(this,B);if(B.keyCode==13){YAHOO.util.Event.stopEvent(B);this.validateItem();return }if(B.keyCode==40||B.keyCode==38){return }var A=this.getValue().replace(/^\s+/g,"").replace(/\s+$/g,"");if(A.length>=this.options.queryMinLength){this.resetTimer()}else{this.stopTimer();this.hideList()}};inputEx.AutoComplete.prototype.validateItem=function(){var B=-1;for(var A=0;A<this.listEl.childNodes.length;A++){if(this.listEl.childNodes[A]==this.highlightedItem){B=A;break}}if(B==-1){return }this.setValue(this.options.displayAutocompleted.call(this,this.listValues[B]));this.hideList()};inputEx.AutoComplete.prototype.hideList=function(){this.listEl.style.display="none"};inputEx.AutoComplete.prototype.showList=function(){this.listEl.style.display=""};inputEx.AutoComplete.prototype.queryList=function(A){this.options.query.call(this,A)};inputEx.AutoComplete.prototype.updateList=function(C){this.listValues=C;this.listEl.innerHTML="";for(var A=0;A<C.length;A++){var B=inputEx.cn("div",{className:"inputEx-AutoComplete-Item"});B.appendChild(this.options.displayEl.call(this,C[A]));this.listEl.appendChild(B)}this.showList()};inputEx.AutoComplete.prototype.resetTimer=function(){if(this.timer){clearTimeout(this.timer)}var A=this;this.timer=setTimeout(function(){A.timerEnd()},this.options.timerDelay)};inputEx.AutoComplete.prototype.stopTimer=function(){if(this.timer){clearTimeout(this.timer)}};inputEx.AutoComplete.prototype.timerEnd=function(){var A=this.getValue().replace(/^\s+/g,"").replace(/\s+$/g,"");this.queryList(A)};inputEx.AutoComplete.prototype.onBlur=function(A){inputEx.AutoComplete.superclass.onBlur.call(this,A)};inputEx.AutoComplete.prototype.highlightItem=function(A){this.toggleHighlightItem(this.highlightedItem,false);this.toggleHighlightItem(A,true);this.highlightedItem=A};inputEx.AutoComplete.prototype.toggleHighlightItem=function(B,A){if(A){YAHOO.util.Dom.addClass(B,this.options.highlightClass)}else{YAHOO.util.Dom.removeClass(B,this.options.highlightClass)}};inputEx.AutoComplete.prototype.onListMouseOver=function(B){var A=YAHOO.util.Event.getTarget(B);if(YAHOO.util.Dom.hasClass(A,"inputEx-AutoComplete-Item")){this.highlightItem(A)}};inputEx.CheckBox=function(A){inputEx.CheckBox.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.CheckBox,inputEx.Field);inputEx.CheckBox.prototype.setOptions=function(){inputEx.CheckBox.superclass.setOptions.call(this);this.sentValues=this.options.sentValues||[true,false];this.checkedValue=this.sentValues[0];this.uncheckedValue=this.sentValues[1]};inputEx.CheckBox.prototype.renderComponent=function(){this.el=inputEx.cn("input",{type:"checkbox",checked:(this.options.checked===false)?false:true});this.divEl.appendChild(this.el);this.label=inputEx.cn("label",{className:"inputExForm-checkbox-rightLabel"},null,this.options.label||"");this.divEl.appendChild(this.label);this.hiddenEl=inputEx.cn("input",{type:"hidden",name:this.options.name||"",value:this.el.checked?this.checkedValue:this.uncheckedValue});this.divEl.appendChild(this.hiddenEl)};inputEx.CheckBox.prototype.initEvents=function(){YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true)};inputEx.CheckBox.prototype.onChange=function(A){this.hiddenEl.value=this.el.checked?this.checkedValue:this.uncheckedValue;inputEx.CheckBox.superclass.onChange.call(this,A)};inputEx.CheckBox.prototype.getValue=function(){return this.el.checked?this.checkedValue:this.uncheckedValue};inputEx.CheckBox.prototype.setValue=function(A){if(A===this.checkedValue){this.hiddenEl.value=A;this.el.checked=true}else{if(A===this.uncheckedValue){this.hiddenEl.value=A;this.el.checked=false}}};inputEx.registerType("boolean",inputEx.CheckBox);inputEx.ColorField=function(A){inputEx.ColorField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.ColorField,inputEx.Field);inputEx.ColorField.prototype.renderComponent=function(){this.el=inputEx.cn("input",{type:"hidden",name:this.options.name||"",value:this.options.value||"#DD7870"});this.colorEl=inputEx.cn("div",{className:"inputEx-ColorField"},{backgroundColor:this.el.value});this.renderPopUp();this.divEl.appendChild(this.el);this.divEl.appendChild(this.colorEl)};inputEx.ColorField.prototype.initEvents=function(){YAHOO.util.Event.addListener(this.colorEl,"click",this.toggleColorPopUp,this,true);YAHOO.util.Event.addListener(this.colorEl,"blur",this.closeColorPopUp,this,true)};inputEx.ColorField.prototype.toggleColorPopUp=function(){if(this.visible){this.colorPopUp.style.display="none"}else{this.colorPopUp.style.display="block"}this.visible=!this.visible};inputEx.ColorField.prototype.close=function(){this.closeColorPopUp()};inputEx.ColorField.prototype.closeColorPopUp=function(){this.colorPopUp.style.display="none";this.visible=false};inputEx.ColorField.prototype.renderPopUp=function(){this.displayTitle=this.options.displayTitle||false;var C=this.options.auto||1;this.colors=this.options.colors||this.setDefaultColors(C);this.length=this.colors.length;this.ratio=this.options.ratio||[16,9];this.squaresPerLine=Math.ceil(Math.sqrt(this.length*this.ratio[0]/this.ratio[1]));this.squaresPerColumn=Math.ceil(this.length/this.squaresPerLine);this.squaresOnLastLine=this.squaresPerLine-(this.squaresPerLine*this.squaresPerColumn-this.length);var B=30*this.squaresPerLine+10;this.visible=false;this.colorPopUp=inputEx.cn("div",{className:"inputEx-ColorField-popup"},{width:B+"px",display:"none"});if(this.displayTitle){var D=inputEx.cn("div",null,null,inputEx.messages.selectColor);this.colorPopUp.appendChild(D)}var A=inputEx.cn("div");A.appendChild(this.renderColorGrid());this.colorPopUp.appendChild(A);this.divEl.appendChild(this.colorPopUp)};inputEx.ColorField.prototype.setValue=function(A){this.el.value=A;YAHOO.util.Dom.setStyle(this.colorEl,"background-color",this.el.value)};inputEx.ColorField.prototype.setDefaultColors=function(A){return inputEx.ColorField.palettes[A-1]};inputEx.ColorField.prototype.renderColorGrid=function(){var E=inputEx.cn("table");var C=inputEx.cn("tbody");for(var D=0;D<this.squaresPerColumn;D++){var A=inputEx.cn("tr");for(var B=0;B<this.squaresPerLine;B++){A.appendChild(inputEx.cn("td",null,{backgroundColor:"#fff",lineHeight:"10px",cursor:"default"},"&nbsp;"));var F=inputEx.cn("td",null,{backgroundColor:"#fff",lineHeight:"10px",cursor:"default"},"&nbsp;&nbsp;&nbsp;");if(D===(this.squaresPerColumn-1)&&B>=this.squaresOnLastLine){inputEx.sn(F,null,{backgroundColor:"#fff",cursor:"default"})}else{inputEx.sn(F,null,{backgroundColor:"#"+this.colors[D*this.squaresPerLine+B],cursor:"pointer"});YAHOO.util.Event.addListener(F,"mousedown",this.onColorClick,this,true)}A.appendChild(F)}C.appendChild(A);C.appendChild(inputEx.cn("tr",null,{height:"8px"}))}E.appendChild(C);return E};inputEx.ColorField.prototype.onColorClick=function(C){var B=YAHOO.util.Event.getTarget(C);var A=YAHOO.util.Dom.getStyle(B,"background-color");YAHOO.util.Dom.setStyle(this.colorEl,"background-color",A);var D=function(E){var G=function(M){var J=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");var I=16;var L=parseInt(M,10);var K;var H="";if(!isNaN(L)){if(L==""){return"00"}while(L>0){K=0;while(L/Math.pow(I,K++)>=I){}H+=J[Math.floor(L/Math.pow(I,K-1))];if(L%I==0){H+="0"}L=(L%Math.pow(I,K-1))}if(H.length==1){return"0"+H}return H}else{return 0}};var F=E.split(/([(,)])/);return"#"+G(F[2])+G(F[4])+G(F[6])};this.el.value=D(A);this.visible=!this.visible;this.colorPopUp.style.display="none";this.fireUpdatedEvt()};inputEx.messages.selectColor="Select a color :";inputEx.ColorField.palettes=[["FFEA99","FFFF66","FFCC99","FFCAB2","FF99AD","FFD6FF","FF6666","E8EEF7","ADC2FF","ADADFF","CCFFFF","D6EAAD","B5EDBC","CCFF99"],["55AAFF","FFAAFF","FF7FAA","FF0202","FFD42A","F9F93B","DF8181","FEE3E2","D47FFF","2AD4FF","2AFFFF","AAFFD4"],["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","F0F0F0"]];inputEx.registerType("color",inputEx.ColorField);inputEx.DateField=function(A){if(!A){var A={}}if(!A.messages){A.messages={}}if(!A.dateFormat){A.dateFormat="m/d/Y"}A.messages.invalid=inputEx.messages.invalidDate;inputEx.DateField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.DateField,inputEx.StringField);inputEx.DateField.prototype.validate=function(){var E=this.el.value;var D=E.split("/");if(D.length!=3){return false}if(isNaN(parseInt(D[0]))||isNaN(parseInt(D[1]))||isNaN(parseInt(D[2]))){return false}var F=this.options.dateFormat.split("/");if(D[F.indexOf("Y")].length!=4){return false}var H=parseInt(D[F.indexOf("d")],10);var G=parseInt(D[F.indexOf("Y")],10);var B=parseInt(D[F.indexOf("m")],10)-1;var C=new Date(G,B,H);var A=C.getFullYear();return((C.getDate()==H)&&(C.getMonth()==B)&&(A==G))};inputEx.DateField.prototype.setValue=function(D){if(D===""){this.el.value="";return }var C="";if(D instanceof Date){C=this.options.dateFormat.replace("Y",D.getFullYear());var A=D.getMonth()+1;C=C.replace("m",((A<10)?"0":"")+A);var B=D.getDate();C=C.replace("d",((B<10)?"0":"")+B)}else{C=D}this.el.value=C};inputEx.DateField.prototype.getValue=function(){if(this.el.value===""){return""}var B=this.el.value.split("/");var C=this.options.dateFormat.split("/");var E=parseInt(B[C.indexOf("d")],10);var D=parseInt(B[C.indexOf("Y")],10);var A=parseInt(B[C.indexOf("m")],10)-1;return(new Date(D,A,E))};inputEx.messages.invalidDate="Invalid date, ex: 03/27/2008";inputEx.registerType("date",inputEx.DateField);inputEx.EmailField=function(A){inputEx.EmailField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.EmailField,inputEx.StringField);inputEx.EmailField.prototype.setOptions=function(){inputEx.EmailField.superclass.setOptions.call(this);this.options.messages.invalid=inputEx.messages.invalidEmail;this.options.regexp=inputEx.regexps.email};inputEx.EmailField.prototype.getValue=function(){return this.el.value.toLowerCase()};inputEx.messages.invalidEmail="Invalid email, ex: sample@test.com";inputEx.registerType("email",inputEx.EmailField);inputEx.HiddenField=function(A){inputEx.HiddenField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.HiddenField,inputEx.Field);inputEx.HiddenField.prototype.render=function(){this.type=inputEx.HiddenField;this.divEl=inputEx.cn("div")};inputEx.HiddenField.prototype.setValue=function(A){this.value=A};inputEx.HiddenField.prototype.getValue=function(){return this.value};inputEx.registerType("hidden",inputEx.HiddenField);inputEx.InPlaceEdit=function(A){inputEx.InPlaceEdit.superclass.constructor.call(this,A)};YAHOO.extend(inputEx.InPlaceEdit,inputEx.Field);inputEx.InPlaceEdit.prototype.render=function(){this.divEl=inputEx.cn("div",{className:this.options.className});this.renderVisuDiv();this.renderEditor()};inputEx.InPlaceEdit.prototype.renderEditor=function(){this.editorContainer=inputEx.cn("div",null,{display:"none"});this.editorField=inputEx.buildField(this.options.editorField);this.editorContainer.appendChild(this.editorField.getEl());YAHOO.util.Dom.setStyle(this.editorField.getEl(),"float","left");this.okButton=inputEx.cn("input",{type:"button",value:"Ok"});YAHOO.util.Dom.setStyle(this.okButton,"float","left");this.editorContainer.appendChild(this.okButton);this.cancelLink=inputEx.cn("a",null,null,"cancel");this.cancelLink.href="";YAHOO.util.Dom.setStyle(this.cancelLink,"float","left");this.editorContainer.appendChild(this.cancelLink);this.editorContainer.appendChild(inputEx.cn("div",null,{clear:"both"}));this.divEl.appendChild(this.editorContainer)};inputEx.InPlaceEdit.prototype.onVisuMouseOver=function(){if(this.colorAnim){this.colorAnim.stop(true)}inputEx.sn(this.formattedContainer,null,{backgroundColor:"#eeee33"})};inputEx.InPlaceEdit.prototype.onVisuMouseOut=function(){if(this.colorAnim){this.colorAnim.stop(true)}this.colorAnim=new YAHOO.util.ColorAnim(this.formattedContainer,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.colorAnim.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle(this.formattedContainer,"background-color","")},this,true);this.colorAnim.animate()};inputEx.InPlaceEdit.prototype.renderVisuDiv=function(){this.formattedContainer=inputEx.cn("div",{className:"inputEx-InPlaceEdit-formattedContainer"});if(typeof this.options.formatDom=="function"){this.formattedContainer.appendChild(this.options.formatDom(this.options.value))}else{if(typeof this.options.formatValue=="function"){this.formattedContainer.innerHTML=this.options.formatValue(this.options.value)}else{this.formattedContainer.innerHTML=YAHOO.lang.isUndefined(this.options.value)?inputEx.messages.emptyInPlaceEdit:this.options.value}}this.divEl.appendChild(this.formattedContainer)};inputEx.InPlaceEdit.prototype.initEvents=function(){YAHOO.util.Event.addListener(this.formattedContainer,"click",this.openEditor,this,true);YAHOO.util.Event.addListener(this.formattedContainer,"mouseover",this.onVisuMouseOver,this,true);YAHOO.util.Event.addListener(this.formattedContainer,"mouseout",this.onVisuMouseOut,this,true);YAHOO.util.Event.addListener(this.okButton,"click",this.onOkEditor,this,true);YAHOO.util.Event.addListener(this.cancelLink,"click",this.onCancelEditor,this,true);if(this.editorField.el){YAHOO.util.Event.addListener(this.editorField.el,"keyup",this.onKeyUp,this,true);YAHOO.util.Event.addListener(this.editorField.el,"keydown",this.onKeyDown,this,true);YAHOO.util.Event.addListener(this.editorField.el,"blur",this.onCancelEditor,this,true)}};inputEx.InPlaceEdit.prototype.onKeyUp=function(A){if(A.keyCode==13){this.onOkEditor()}if(A.keyCode==27){this.onCancelEditor(A)}};inputEx.InPlaceEdit.prototype.onKeyDown=function(A){if(A.keyCode==9){this.onOkEditor()}};inputEx.InPlaceEdit.prototype.onOkEditor=function(){var B=this.editorField.getValue();this.setValue(B);this.editorContainer.style.display="none";this.formattedContainer.style.display="";var A=this;setTimeout(function(){A.updatedEvt.fire(B)},50)};inputEx.InPlaceEdit.prototype.onCancelEditor=function(A){YAHOO.util.Event.stopEvent(A);this.editorContainer.style.display="none";this.formattedContainer.style.display=""};inputEx.InPlaceEdit.prototype.openEditor=function(){var A=this.getValue();this.editorContainer.style.display="";this.formattedContainer.style.display="none";if(!YAHOO.lang.isUndefined(A)){this.editorField.setValue(A)}if(this.editorField.el&&typeof this.editorField.el.focus=="function"){this.editorField.el.focus()}if(this.editorField.el&&typeof this.editorField.el.setSelectionRange=="function"&&(!!A&&!!A.length)){this.editorField.el.setSelectionRange(0,A.length)}};inputEx.InPlaceEdit.prototype.getValue=function(){return this.value};inputEx.InPlaceEdit.prototype.setValue=function(A){this.value=A;if(typeof A=="undefined"||A==""){this.value="(Edit me)"}if(typeof this.options.formatDom=="function"){this.formattedContainer.innerHTML="";this.formattedContainer.appendChild(this.options.formatDom(this.value))}else{if(typeof this.options.formatValue=="function"){this.formattedContainer.innerHTML=this.options.formatValue(this.value)}else{this.formattedContainer.innerHTML=this.value}}};inputEx.messages.emptyInPlaceEdit="(click to edit)";inputEx.registerType("inplaceedit",inputEx.InPlaceEdit);inputEx.IPv4Field=function(A){inputEx.IPv4Field.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.IPv4Field,inputEx.StringField);inputEx.IPv4Field.prototype.setOptions=function(){inputEx.IPv4Field.superclass.setOptions.call(this);this.options.messages.invalid=inputEx.messages.invalidIPv4;this.options.regexp=inputEx.regexps.ipv4};inputEx.messages.invalidIPv4="Invalid IPv4 address, ex: 192.168.0.1";inputEx.registerType("IPv4",inputEx.IPv4Field);inputEx.ListField=function(A){this.subFields=[];inputEx.ListField.superclass.constructor.call(this,A)};YAHOO.extend(inputEx.ListField,inputEx.Field);inputEx.ListField.prototype.setOptions=function(){inputEx.ListField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-ListField";this.options.sortable=(typeof this.options.sortable=="undefined")?false:this.options.sortable;this.options.elementType=this.options.elementType||{type:"string"}};inputEx.ListField.prototype.renderComponent=function(){this.addButton=inputEx.cn("img",{src:inputEx.spacerUrl,className:"inputEx-ListField-addButton"});this.divEl.appendChild(this.addButton);this.divEl.appendChild(inputEx.cn("span",null,{marginLeft:"4px"},this.options.listLabel));this.childContainer=inputEx.cn("div",{className:"inputEx-ListField-childContainer"});this.divEl.appendChild(this.childContainer)};inputEx.ListField.prototype.initEvents=function(){YAHOO.util.Event.addListener(this.addButton,"click",this.onAddButton,this,true)};inputEx.ListField.prototype.setValue=function(C){if(!YAHOO.lang.isArray(C)){return }for(var B=0;B<C.length;B++){if(B==this.subFields.length){this.addElement(C[B])}else{this.subFields[B].setValue(C[B])}}var A=this.subFields.length-C.length;if(A>0){for(var B=0;B<A;B++){this.removeElement(C.length)}}};inputEx.ListField.prototype.getValue=function(){var A=[];for(var B=0;B<this.subFields.length;B++){A[B]=this.subFields[B].getValue()}return A};inputEx.ListField.prototype.addElement=function(B){var A=this.renderSubField(B);this.subFields.push(A)};inputEx.ListField.prototype.onAddButton=function(A){YAHOO.util.Event.stopEvent(A);this.addElement();this.fireUpdatedEvt()};inputEx.ListField.prototype.renderSubField=function(H){var D=inputEx.cn("div");var B=inputEx.cn("img",{src:inputEx.spacerUrl,className:"inputEx-ListField-delButton"});YAHOO.util.Event.addListener(B,"click",this.onDelete,this,true);D.appendChild(B);var G=YAHOO.lang.merge({},this.options.elementType);if(!G.inputParams){G.inputParams={}}if(H){G.inputParams.value=H}var E=inputEx.buildField(G);var C=E.getEl();YAHOO.util.Dom.setStyle(C,"margin-left","4px");YAHOO.util.Dom.setStyle(C,"float","left");D.appendChild(C);E.updatedEvt.subscribe(this.onChange,this,true);if(this.options.sortable){var F=inputEx.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowUp"});YAHOO.util.Event.addListener(F,"click",this.onArrowUp,this,true);var A=inputEx.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowDown"});YAHOO.util.Event.addListener(A,"click",this.onArrowDown,this,true);D.appendChild(F);D.appendChild(A)}D.appendChild(inputEx.cn("div",null,{clear:"both"}));this.childContainer.appendChild(D);return E};inputEx.ListField.prototype.onArrowUp=function(G){var D=YAHOO.util.Event.getTarget(G).parentNode;var B=null;var C=-1;for(var E=1;E<D.parentNode.childNodes.length;E++){var A=D.parentNode.childNodes[E];if(A==D){B=D.parentNode.childNodes[E-1];C=E;break}}if(B){var H=this.childContainer.removeChild(D);var F=this.childContainer.insertBefore(H,B);var I=this.subFields[C];this.subFields[C]=this.subFields[C-1];this.subFields[C-1]=I;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(F,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},0.4);this.arrowAnim.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle(F,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}};inputEx.ListField.prototype.onArrowDown=function(G){var C=YAHOO.util.Event.getTarget(G).parentNode;var B=-1;var F=null;for(var D=0;D<C.parentNode.childNodes.length;D++){var A=C.parentNode.childNodes[D];if(A==C){F=C.parentNode.childNodes[D+1];B=D;break}}if(F){var H=this.childContainer.removeChild(C);var E=YAHOO.util.Dom.insertAfter(H,F);var I=this.subFields[B];this.subFields[B]=this.subFields[B+1];this.subFields[B+1]=I;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(E,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.arrowAnim.onComplete.subscribe(function(){YAHOO.util.Dom.setStyle(E,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}};inputEx.ListField.prototype.onDelete=function(E,F){YAHOO.util.Event.stopEvent(E);var B=YAHOO.util.Event.getTarget(E).parentNode;var A=-1;var D=B.childNodes[1];for(var C=0;C<this.subFields.length;C++){if(this.subFields[C].getEl()==D){A=C;break}}if(A!=-1){this.removeElement(A)}this.updatedEvt.fire(this.getValue())};inputEx.ListField.prototype.removeElement=function(B){var A=this.subFields[B].getEl().parentNode;this.subFields[B]=undefined;this.subFields=this.subFields.compact();A.parentNode.removeChild(A)};inputEx.registerType("list",inputEx.ListField);inputEx.PairField=function(A){A.leftFieldOptions=A.leftFieldOptions||{};A.rightFieldOptions=A.rightFieldOptions||{};inputEx.PairField.superclass.constructor.call(this,A)};YAHOO.extend(inputEx.PairField,inputEx.Field);inputEx.PairField.prototype.render=function(){inputEx.PairField.superclass.render.call(this);this.divEl.appendChild(inputEx.cn("div",null,{clear:"both"}))};inputEx.PairField.prototype.renderComponent=function(){var D="string";if(this.options.leftFieldOptions.type){D=this.options.leftFieldOptions.type}var E=inputEx.getFieldClass(D);var A="string";if(this.options.rightFieldOptions.type){A=this.options.rightFieldOptions.type}var C=inputEx.getFieldClass(A);this.elLeft=new E(this.options.leftFieldOptions.inputParams||{});this.elRight=new C(this.options.rightFieldOptions.inputParams||{});YAHOO.util.Dom.setStyle(this.elLeft.getEl(),"float","left");this.divEl.appendChild(this.elLeft.getEl());var B=inputEx.cn("span",null,null," : ");YAHOO.util.Dom.setStyle(B,"float","left");this.divEl.appendChild(B);this.divEl.appendChild(this.elRight.getEl());YAHOO.util.Dom.setStyle(this.elRight.getEl(),"float","left")};inputEx.PairField.prototype.validate=function(){return(this.elLeft.validate()&&this.elRight.validate())};inputEx.PairField.prototype.setValue=function(A){this.elLeft.setValue(A[0]);this.elRight.setValue(A[1])};inputEx.PairField.prototype.getValue=function(){return[this.elLeft.getValue(),this.elRight.getValue()]};inputEx.registerType("pair",inputEx.PairField);inputEx.PasswordField=function(A){inputEx.PasswordField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.PasswordField,inputEx.StringField);inputEx.PasswordField.prototype.setOptions=function(){inputEx.PasswordField.superclass.setOptions.call(this);this.options.regexp=inputEx.regexps.password;this.options.minLength=(this.options.minLength==undefined)?5:this.options.minLength;this.options.messages.invalid=inputEx.messages.invalidPassword[0]+this.options.minLength+inputEx.messages.invalidPassword[1]};inputEx.PasswordField.prototype.renderComponent=function(){var A={};A.type="password";A.size=this.options.size;if(this.options.name){A.name=this.options.name}this.el=inputEx.cn("input",A);this.divEl.appendChild(this.el)};inputEx.PasswordField.prototype.setConfirmationField=function(A){this.options.confirmPasswordField=A;this.options.messages.invalid=inputEx.messages.invalidPasswordConfirmation;this.options.confirmPasswordField.options.confirmationPasswordField=this};inputEx.PasswordField.prototype.validate=function(){if(this.options.confirmPasswordField){return(this.options.confirmPasswordField.getValue()==this.getValue())}else{var B=inputEx.PasswordField.superclass.validate.call(this);var A=this.getValue().length>=this.options.minLength;return B&&A}};inputEx.PasswordField.prototype.onInput=function(A){inputEx.PasswordField.superclass.onInput.call(this,A);if(this.options.confirmationPasswordField){this.options.confirmationPasswordField.setClassFromState()}};inputEx.messages.invalidPassword=["The password schould contain at least "," numbers or caracters"];inputEx.messages.invalidPasswordConfirmation="Passwords are different !";inputEx.registerType("password",inputEx.PasswordField);inputEx.RTEField=function(A){inputEx.RTEField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.RTEField,inputEx.Field);inputEx.RTEField.prototype.render=function(){this.divEl=inputEx.cn("div",{className:this.options.className});if(!inputEx.RTEfieldsNumber){inputEx.RTEfieldsNumber=0}var A="inputEx-RTEField-"+inputEx.RTEfieldsNumber;this.el=inputEx.cn("textarea",{id:A});inputEx.RTEfieldsNumber+=1;this.divEl.appendChild(this.el);this.editor=new YAHOO.widget.Editor(A,{height:"300px",width:"522px",dompath:true});this.editor.render()};inputEx.RTEField.prototype.setValue=function(A){if(this.editor){this.editor.setEditorHTML(A)}};inputEx.RTEField.prototype.getValue=function(){try{return this.editor.getEditorHTML()}catch(A){}};inputEx.registerType("html",inputEx.RTEField);inputEx.SelectField=function(A){inputEx.SelectField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.SelectField,inputEx.Field);inputEx.SelectField.prototype.renderComponent=function(){this.el=inputEx.cn("select",{name:this.options.name||""});if(this.options.multiple){this.el.multiple=true;this.el.size=this.options.selectValues.length}this.optionEls=[];for(var A=0;A<this.options.selectValues.length;A++){this.optionEls[A]=inputEx.cn("option",{value:this.options.selectValues[A]},null,(this.options.selectOptions)?this.options.selectOptions[A]:this.options.selectValues[A]);this.el.appendChild(this.optionEls[A])}this.divEl.appendChild(this.el)};inputEx.SelectField.prototype.initEvents=function(){YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true)};inputEx.SelectField.prototype.setValue=function(D){var A=0;var C;for(var B=0;B<this.options.selectValues.length;B++){if(D===this.options.selectValues[B]){C=this.el.childNodes[B];C.selected="selected"}}};inputEx.SelectField.prototype.getValue=function(){return this.options.selectValues[this.el.selectedIndex]};inputEx.registerType("select",inputEx.SelectField);inputEx.Textarea=function(A){inputEx.Textarea.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.Textarea,inputEx.Field);inputEx.Textarea.prototype.initEvents=function(){YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true)};inputEx.Textarea.prototype.setOptions=function(){inputEx.Textarea.superclass.setOptions.call(this);this.options.rows=this.options.rows||6;this.options.cols=this.options.cols||23};inputEx.Textarea.prototype.renderComponent=function(){this.el=inputEx.cn("textarea",{rows:this.options.rows,cols:this.options.cols},null,this.options.value);this.divEl.appendChild(this.el)};inputEx.Textarea.prototype.setValue=function(A){this.el.value=A};inputEx.Textarea.prototype.getValue=function(){return this.el.value};inputEx.registerType("text",inputEx.Textarea);inputEx.UneditableField=function(A){inputEx.UneditableField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.UneditableField,inputEx.Field);inputEx.UneditableField.prototype.render=function(){this.divEl=inputEx.cn("div")};inputEx.UneditableField.prototype.setValue=function(B){this.value=B;if(this.options.formatValue){this.divEl.innerHTML=this.options.formatValue(B)}else{if(this.options.formatDom){var A=this.options.formatDom(B);this.divEl.innerHTML="";if(A){this.divEl.appendChild(A)}}else{this.divEl.innerHTML=B}}};inputEx.UneditableField.prototype.getValue=function(){return this.value};inputEx.registerType("uneditable",inputEx.UneditableField);inputEx.UpperCaseField=function(A){inputEx.UpperCaseField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.UpperCaseField,inputEx.StringField);inputEx.UpperCaseField.prototype.setValue=function(A){this.el.value=A.toUpperCase()};inputEx.UpperCaseField.prototype.onInput=function(A){this.setValue((this.getValue()));this.setClassFromState()};inputEx.UrlField=function(A){inputEx.UrlField.superclass.constructor.call(this,A)};YAHOO.lang.extend(inputEx.UrlField,inputEx.StringField);inputEx.UrlField.prototype.setOptions=function(){inputEx.UrlField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-UrlField";this.options.messages.invalid=inputEx.messages.invalidUrl};inputEx.UrlField.prototype.getValue=function(){return this.el.value.toLowerCase()};inputEx.UrlField.prototype.setValue=function(A){this.el.value=A;this.validate()};inputEx.UrlField.prototype.render=function(){inputEx.UrlField.superclass.render.call(this);this.el.size=27;this.favicon=inputEx.cn("img");this.divEl.insertBefore(this.favicon,this.el)};inputEx.UrlField.prototype.validate=function(){var B=this.getValue().match(inputEx.regexps.url);var A=B?(B[0]+"/favicon.ico"):inputEx.spacerUrl;if(A!=this.favicon.src){inputEx.sn(this.favicon,null,{visibility:"hidden"});this.favicon.src=A;if(this.timer){clearTimeout(this.timer)}var C=this;this.timer=setTimeout(function(){C.displayFavicon()},1000)}return !!B};inputEx.UrlField.prototype.displayFavicon=function(){inputEx.sn(this.favicon,null,{visibility:(this.favicon.naturalWidth!=0)?"visible":"hidden"})};inputEx.messages.invalidUrl="Invalid URL, ex: http://www.test.com";inputEx.registerType("url",inputEx.UrlField)