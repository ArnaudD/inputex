(function(){var B=YAHOO.lang;YAHOO.namespace("inputEx");var A=YAHOO.inputEx;B.augmentObject(A,{VERSION:"0.1.1b",spacerUrl:"images/space.gif",stateEmpty:"empty",stateRequired:"required",stateValid:"valid",stateInvalid:"invalid",messages:{required:"This field is required",invalid:"This field is invalid",valid:"This field is valid"},widget:{},regexps:{email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ipv4:/^(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)(?:\.(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)){3}$/,url:/^(http|https):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(([0-9]{1,5})?\/.*)?$/i,password:/^[0-9a-zA-Z\x20-\x7E]*$/},typeClasses:{},registerType:function(C,D){if(!B.isString(C)){throw new Error("inputEx.registerType: first argument must be a string")}if(!B.isFunction(D)){throw new Error("inputEx.registerType: second argument must be a function")}this.typeClasses[C]=D},getFieldClass:function(C){if(B.isFunction(this.typeClasses[C])){return this.typeClasses[C]}return null},getType:function(C){for(var D in this.typeClasses){if(this.typeClasses.hasOwnProperty(D)){if(this.typeClasses[D]==C){return D}}}return null},buildField:function(C){var D=null;if(C.type){D=this.getFieldClass(C.type);if(D===null){D=A.StringField}}else{D=C.fieldClass?C.fieldClass:A.StringField}var E=new D(C.inputParams);return E},sn:function(F,E,C){if(!F){return }if(E){for(var D in E){var H=E[D];if(B.isFunction(H)){continue}if(D=="className"){D="class";F.className=H}if(H!==F.getAttribute(D)){try{if(H===false){F.removeAttribute(D)}else{F.setAttribute(D,H)}}catch(G){}}}}if(C){for(var D in C){if(B.isFunction(C[D])){continue}if(F.style[D]!=C[D]){F.style[D]=C[D]}}}},cn:function(C,E,D,G){var F=document.createElement(C);this.sn(F,E,D);if(G){F.innerHTML=G}return F},indexOf:function(F,C){var D=C.length,E;for(E=0;E<D;E++){if(C[E]==F){return E}}return -1},compactArray:function(C){var F=[],D=C.length,E;for(E=0;E<D;E++){if(!B.isNull(C[E])&&!B.isUndefined(C[E])){F.push(C[E])}}return F}})})();(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.visus={trimpath:function(E,F){if(!TrimPath){alert("TrimPath is not on the page. Please load inputex/lib/trimpath-template.js");return }var D=TrimPath.parseTemplate(E.template);var C=D.process(F);return C},"func":function(C,D){return C.func(D)},dump:function(C,D){return B.dump(D)}};A.renderVisu=function(I,E,F){var C=I||{};var J=C.visuType||"dump";if(!A.visus.hasOwnProperty(J)){throw new Error("inputEx: no visu for visuType: "+J)}var G=A.visus[J];if(!B.isFunction(G)){throw new Error("inputEx: no visu for visuType: "+J)}var K=null;try{K=G(C,E)}catch(H){throw new Error("inputEx: error while running visu "+J+" : "+H.message);return }var D=null;if(F){if(B.isString(F)){D=YAHOO.util.Dom.get(F)}else{D=F}}if(D){if(YAHOO.lang.isObject(K)&&K.tagName){D.innerHTML="";D.appendChild(K)}else{D.innerHTML=K}}return K}})();(function(){var A=YAHOO.inputEx;A.importJsonSchema=function(E,I){var B={fields:[]};if(I){B.name=I}for(var D in E.properties){if(E.properties.hasOwnProperty(D)){var G=E.properties[D];var F={label:D,inputParams:{name:D}};if(G.type){F.type=G.type;if(G.type=="object"){F.type="group";F.inputParams=A.importJsonSchema(G,D)}else{if(G.type=="string"&&(!!G.options)){F.type="select";F.inputParams.selectOptions=[];F.inputParams.selectValues=[];for(var C=0;C<G.options.length;C++){var H=G.options[C];F.inputParams.selectOptions.push(H.label);F.inputParams.selectValues.push(H.value)}}else{if(G.type=="string"){if(G.format){if(G.format=="html"){F.type="html"}else{if(G.format=="date"){F.type="date";F.inputParams.tooltipIcon=true}}}}}}}else{if(G["$ref"]){}}B.fields.push(F)}}return B}})();(function(){var C=YAHOO.inputEx,B=YAHOO.util.Dom,D=YAHOO.lang,A=YAHOO.util;C.Field=function(E){this.options=E||{};this.setOptions();this.render();if(!D.isUndefined(this.options.value)){this.setValue(this.options.value)}this.updatedEvt=new A.CustomEvent("updated",this);this.initEvents();this.setClassFromState();if(this.options.parentEl){if(D.isString(this.options.parentEl)){B.get(this.options.parentEl).appendChild(this.getEl())}else{this.options.parentEl.appendChild(this.getEl())}}};C.Field.prototype={setOptions:function(){this.options.messages=this.options.messages||{};this.options.messages.required=this.options.messages.required||C.messages.required;this.options.messages.invalid=this.options.messages.invalid||C.messages.invalid;this.options.messages.valid=this.options.messages.valid||C.messages.valid;this.options.className=this.options.className||"inputEx-Field";this.options.required=this.options.required?true:false;this.options.tooltipIcon=this.options.tooltipIcon?true:false},render:function(){this.divEl=C.cn("div",{className:this.options.className});this.renderComponent();if(this.options.tooltipIcon){this.tooltipIcon=C.cn("img",{src:C.spacerUrl,className:"inputEx-Field-stateIcon"});if(!C.tooltipCount){C.tooltipCount=0}this.tooltip=new YAHOO.widget.Tooltip("inputEx-tooltip-"+(C.tooltipCount++),{context:this.tooltipIcon,text:""});this.divEl.appendChild(this.tooltipIcon)}},fireUpdatedEvt:function(){if(this.validate()){var E=this;setTimeout(function(){E.updatedEvt.fire(E.getValue())},50)}},renderComponent:function(){},getEl:function(){return this.divEl},initEvents:function(){},getValue:function(){},setValue:function(E){},setClassFromState:function(){if(this.previousState){B.removeClass(this.getEl(),"inputEx-"+this.previousState)}this.previousState=this.getState();B.addClass(this.getEl(),"inputEx-"+this.previousState);this.setToolTipMessage()},getStateString:function(E){if(E=="required"){return this.options.messages.required}else{if(E=="invalid"){return this.options.messages.invalid}else{return this.options.messages.valid}}},setToolTipMessage:function(){if(this.tooltip){var E="";if(this.previousState=="required"){E='<div class="inputEx-tooltip-required"></div> <span>'+this.options.messages.required+"</span>"}else{if(this.previousState=="invalid"){E='<div class="inputEx-tooltip-exclamation"></div> <span>'+this.options.messages.invalid+"</span>"}else{E='<div class="inputEx-tooltip-validated"></div> <span>'+this.options.messages.valid+"</span>"}}this.tooltip.setBody(E)}},getState:function(){if(this.getValue()===""){return this.options.required?C.stateRequired:C.stateEmpty}return this.validate()?C.stateValid:C.stateInvalid},validate:function(){return true},onFocus:function(E){B.addClass(this.getEl(),"inputEx-focused")},onBlur:function(E){B.removeClass(this.getEl(),"inputEx-focused")},onChange:function(E){this.setClassFromState();this.fireUpdatedEvt()},close:function(){},disable:function(){},enable:function(){},focus:function(){},destroy:function(){var E=this.getEl();if(B.inDocument(E)){E.parentEl.removeChild(E)}A.Event.purgeElement(E,true)}}})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,B=YAHOO.util.Dom,A=YAHOO.util.Event;C.Group=function(E){C.Group.superclass.constructor.call(this,E)};D.extend(C.Group,C.Field,{setOptions:function(){this.options.legend=this.options.legend||"";this.inputConfigs=this.options.fields;this.options.collapsible=D.isUndefined(this.options.collapsible)?false:this.options.collapsible;this.inputs=[];this.inputsNames={}},render:function(){this.divEl=C.cn("div",{className:"inputEx-Group"});this.renderFields(this.divEl)},renderFields:function(H){this.fieldset=C.cn("fieldset");this.legend=C.cn("legend");if(this.options.collapsible){var K=C.cn("div",{className:"inputEx-Group-collapseImg"},null," ");this.legend.appendChild(K);C.sn(this.fieldset,{className:"inputEx-Expanded"})}if(this.options.legend!=""){this.legend.innerHTML+=(" "+this.options.legend)}this.fieldset.appendChild(this.legend);for(var G=0;G<this.inputConfigs.length;G++){var F=this.inputConfigs[G];var E=C.cn("div",{className:"inputEx-Group-GroupItem"});if(F.type=="hidden"){B.setStyle(E,"display","none")}E.appendChild(C.cn("div",{className:"inputEx-Group-label"},null,F.label||""));var J=this.renderField(F);var I=C.cn("div",{className:"inputEx-Group-field"});I.appendChild(J.getEl());E.appendChild(I);if(F.description){E.appendChild(C.cn("div",{className:"inputEx-Group-description"},null,F.description))}this.fieldset.appendChild(C.cn("div",null,{clear:"both"}," "));this.fieldset.appendChild(E)}H.appendChild(this.fieldset)},renderField:function(F){var E=C.buildField(F);this.inputs.push(E);if(E.options.name){this.inputsNames[E.options.name]=E}E.updatedEvt.subscribe(this.onChange,this,true);return E},initEvents:function(){if(this.options.collapsible){A.addListener(this.legend,"click",this.toggleCollapse,this,true)}},toggleCollapse:function(){if(B.hasClass(this.fieldset,"inputEx-Expanded")){B.replaceClass(this.fieldset,"inputEx-Expanded","inputEx-Collapsed")}else{B.replaceClass(this.fieldset,"inputEx-Collapsed","inputEx-Expanded")}},validate:function(){for(var F=0;F<this.inputs.length;F++){var E=this.inputs[F];var G=E.getState();if(G==C.stateRequired||G==C.stateInvalid){return false}}return true},enable:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].enable()}},disable:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].disable()}},setValue:function(F){if(!F){return }for(var E=0;E<this.inputs.length;E++){if(this.inputs[E].options.name&&!D.isUndefined(F[this.inputs[E].options.name])){this.inputs[E].setValue(F[this.inputs[E].options.name]);this.inputs[E].setClassFromState()}}},getValue:function(){var F={};for(var E=0;E<this.inputs.length;E++){if(this.inputs[E].options.name){F[this.inputs[E].options.name]=this.inputs[E].getValue()}}return F},close:function(){for(var E=0;E<this.inputs.length;E++){this.inputs[E].close()}},focus:function(){if(this.inputs.length>0){this.inputs[0].focus()}},getFieldByName:function(E){if(!this.inputsNames.hasOwnProperty(E)){return null}return this.inputsNames[E]}});C.registerType("group",C.Group)})();(function(){var B=YAHOO.util,D=YAHOO.lang,A=YAHOO.util.Event,C=YAHOO.inputEx;C.Form=function(E){C.Form.superclass.constructor.call(this,E)};D.extend(C.Form,C.Group,{setOptions:function(){C.Form.superclass.setOptions.call(this);this.buttons=this.options.buttons;if(this.options.ajax){this.options.ajax.method=this.options.ajax.method||"POST";this.options.ajax.uri=this.options.ajax.uri||"default.php";this.options.ajax.callback=this.options.ajax.callback||{};this.options.ajax.callback.scope=this.options.ajax.callback.scope||this;this.options.ajax.showMask=D.isUndefined(this.options.ajax.showMask)?false:this.options.ajax.showMask}},render:function(){this.divEl=C.cn("div",{className:"inputEx-Group"});this.form=C.cn("form",{method:this.options.method||"POST",action:this.options.action||"",className:this.options.className||"inputEx-Form"});this.divEl.appendChild(this.form);this.form.setAttribute("autocomplete","off");if(this.options.formName){this.form.name=this.options.formName}this.renderFields(this.form);this.renderButtons()},renderButtons:function(){var G,E;for(var F=0;F<this.buttons.length;F++){G=this.buttons[F];E=C.cn("input",{type:G.type,value:G.value});if(G.onClick){E.onclick=G.onClick}this.form.appendChild(E)}},initEvents:function(){C.Form.superclass.initEvents.call(this);A.addListener(this.form,"submit",this.options.onSubmit||this.onSubmit,this,true)},onSubmit:function(E){if(!this.validate()){A.stopEvent(E)}if(this.options.ajax){A.stopEvent(E);this.asyncRequest()}},asyncRequest:function(){if(this.options.ajax.showMask){this.showMask()}var E="value="+D.JSON.stringify(this.getValue());B.Connect.asyncRequest(this.options.ajax.method,this.options.ajax.uri,{success:function(F){if(this.options.ajax.showMask){this.hideMask()}if(D.isFunction(this.options.ajax.callback.success)){this.options.ajax.callback.success.call(this.options.ajax.callback.scope,F)}},failure:function(F){if(this.options.ajax.showMask){this.hideMask()}if(D.isFunction(this.options.ajax.callback.failure)){this.options.ajax.callback.failure.call(this.options.ajax.callback.scope,F)}},scope:this},E)},renderMask:function(){if(this.maskRendered){return }Dom.setStyle(this.divEl,"position","relative");this.formMask=C.cn("div",{className:"inputEx-Form-Mask"},{display:"none",width:Dom.getStyle(this.divEl,"width"),height:Dom.getStyle(this.divEl,"height"),},"<div/><center><br /><img src='../images/spinner.gif'/><br /><span>Envoi en cours...</span></center>");this.divEl.appendChild(this.formMask);this.maskRendered=true},showMask:function(){this.renderMask();this.formMask.style.display=""},hideMask:function(){this.formMask.style.display="none"}});C.registerType("form",C.Form)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Event;B.StringField=function(D){B.StringField.superclass.constructor.call(this,D)};C.extend(B.StringField,B.Field,{setOptions:function(){B.StringField.superclass.setOptions.call(this);this.options.size=this.options.size||20},renderComponent:function(){var D={};D.type="text";D.size=this.options.size;if(this.options.name){D.name=this.options.name}this.el=B.cn("input",D);this.divEl.appendChild(this.el)},initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true);A.addListener(this.el,"focus",this.onFocus,this,true);A.addListener(this.el,"blur",this.onBlur,this,true)},getValue:function(){return this.el.value},setValue:function(D){this.el.value=D},validate:function(){if(this.options.regexp){return this.getValue().match(this.options.regexp)}return true},disable:function(){this.el.disabled=true},enable:function(){this.el.disabled=false},focus:function(){if(!!this.el&&C.isFunction(this.el.focus)){this.el.focus()}}});B.registerType("string",B.StringField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.AutoComplete=function(E){C.AutoComplete.superclass.constructor.call(this,E)};D.extend(C.AutoComplete,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-Field inputEx-AutoComplete";C.AutoComplete.superclass.setOptions.call(this);this.options.highlightClass="inputEx-AutoComplete-ItemHovered";this.options.timerDelay=this.options.timerDelay||300;this.options.query=this.options.query||null;this.options.queryMinLength=this.options.queryMinLength||2},renderComponent:function(){C.AutoComplete.superclass.renderComponent.call(this);this.listEl=C.cn("div",{className:"inputEx-AutoComplete-List"},{display:"none"});this.divEl.appendChild(this.listEl)},initEvents:function(){C.AutoComplete.superclass.initEvents.call(this);A.addListener(this.listEl,"click",this.validateItem,this,true);A.addListener(this.listEl,"mouseover",this.onListMouseOver,this,true);A.addListener(this.el,"keydown",this.onKeyDown,this,true);A.addListener(this.el,"input",this.onInput,this,true)},onKeyDown:function(H){if(H.keyCode==40||H.keyCode==38){var J=-1;for(var E=0;E<this.listEl.childNodes.length;E++){if(this.listEl.childNodes[E]==this.highlightedItem){J=E;break}}var G=this.listEl.childNodes.length-1;var F=(H.keyCode==40)?(J<G?J+1:0):(J!=0?J-1:G);var I=this.listEl.childNodes[F];if(I){this.highlightItem(I);A.stopEvent(H)}}if(H.keyCode==13){this.validateItem();this.fireUpdatedEvt();A.stopEvent(H);return }},onInput:function(F){var E=this.getValue().replace(/^\s+/g,"").replace(/\s+$/g,"");if(E.length>=this.options.queryMinLength){this.resetTimer()}else{this.stopTimer();this.hideList()}},validateItem:function(){var F=-1;for(var E=0;E<this.listEl.childNodes.length;E++){if(this.listEl.childNodes[E]==this.highlightedItem){F=E;break}}if(F==-1){return }this.setValue(this.options.displayAutocompleted.call(this,this.listValues[F]));this.hideList()},hideList:function(){this.listEl.style.display="none"},showList:function(){this.listEl.style.display=""},queryList:function(E){this.options.query.call(this,E)},updateList:function(G){this.listValues=G;this.listEl.innerHTML="";for(var E=0;E<G.length;E++){var F=C.cn("div",{className:"inputEx-AutoComplete-Item"});C.renderVisu(this.options.visuItem,G[E],F);this.listEl.appendChild(F)}this.showList()},resetTimer:function(){if(this.timer){clearTimeout(this.timer)}var E=this;this.timer=setTimeout(function(){E.timerEnd()},this.options.timerDelay)},stopTimer:function(){if(this.timer){clearTimeout(this.timer)}},timerEnd:function(){var E=this.getValue().replace(/^\s+/g,"").replace(/\s+$/g,"");this.queryList(E)},highlightItem:function(E){this.toggleHighlightItem(this.highlightedItem,false);this.toggleHighlightItem(E,true);this.highlightedItem=E},toggleHighlightItem:function(F,E){if(E){B.addClass(F,this.options.highlightClass)}else{B.removeClass(F,this.options.highlightClass)}},onListMouseOver:function(F){var E=A.getTarget(F);if(B.hasClass(E,"inputEx-AutoComplete-Item")){this.highlightItem(E)}}})})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.CheckBox=function(E){C.CheckBox.superclass.constructor.call(this,E)};D.extend(C.CheckBox,C.Field,{setOptions:function(){C.CheckBox.superclass.setOptions.call(this);this.sentValues=this.options.sentValues||[true,false];this.checkedValue=this.sentValues[0];this.uncheckedValue=this.sentValues[1]},renderComponent:function(){this.el=C.cn("input",{type:"checkbox",checked:(this.options.checked===false)?false:true});this.divEl.appendChild(this.el);this.label=C.cn("label",{className:"inputExForm-checkbox-rightLabel"},null,this.options.label||"");this.divEl.appendChild(this.label);this.hiddenEl=C.cn("input",{type:"hidden",name:this.options.name||"",value:this.el.checked?this.checkedValue:this.uncheckedValue});this.divEl.appendChild(this.hiddenEl)},initEvents:function(){A.addListener(this.el,"change",this.onChange,this,true)},onChange:function(E){this.hiddenEl.value=this.el.checked?this.checkedValue:this.uncheckedValue;C.CheckBox.superclass.onChange.call(this,E)},getValue:function(){return this.el.checked?this.checkedValue:this.uncheckedValue},setValue:function(E){if(E===this.checkedValue){this.hiddenEl.value=E;this.el.checked=true}else{if(E===this.uncheckedValue){this.hiddenEl.value=E;this.el.checked=false}else{throw new Error("inputEx.CheckBox.setValue: "+E+" schould be in ["+this.checkedValue+","+this.uncheckedValue+"]")}}}});C.registerType("boolean",C.CheckBox)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.ColorField=function(E){C.ColorField.superclass.constructor.call(this,E)};D.extend(C.ColorField,C.Field,{renderComponent:function(){this.el=C.cn("input",{type:"hidden",name:this.options.name||"",value:this.options.value||"#DD7870"});this.colorEl=C.cn("div",{className:"inputEx-ColorField"},{backgroundColor:this.el.value});this.renderPopUp();this.divEl.appendChild(this.el);this.divEl.appendChild(this.colorEl)},initEvents:function(){A.addListener(this.colorEl,"click",this.toggleColorPopUp,this,true);A.addListener(this.colorEl,"blur",this.closeColorPopUp,this,true)},toggleColorPopUp:function(){if(this.visible){this.colorPopUp.style.display="none"}else{this.colorPopUp.style.display="block"}this.visible=!this.visible},close:function(){this.closeColorPopUp()},closeColorPopUp:function(){this.colorPopUp.style.display="none";this.visible=false},renderPopUp:function(){this.displayTitle=this.options.displayTitle||false;var G=this.options.auto||1;this.colors=this.options.colors||this.setDefaultColors(G);this.length=this.colors.length;this.ratio=this.options.ratio||[16,9];this.squaresPerLine=Math.ceil(Math.sqrt(this.length*this.ratio[0]/this.ratio[1]));this.squaresPerColumn=Math.ceil(this.length/this.squaresPerLine);this.squaresOnLastLine=this.squaresPerLine-(this.squaresPerLine*this.squaresPerColumn-this.length);var F=30*this.squaresPerLine+10;this.visible=false;this.colorPopUp=C.cn("div",{className:"inputEx-ColorField-popup"},{width:F+"px",display:"none"});if(this.displayTitle){var H=C.cn("div",null,null,C.messages.selectColor);this.colorPopUp.appendChild(H)}var E=C.cn("div");E.appendChild(this.renderColorGrid());this.colorPopUp.appendChild(E);this.divEl.appendChild(this.colorPopUp)},setValue:function(E){this.el.value=E;B.setStyle(this.colorEl,"background-color",this.el.value)},setDefaultColors:function(E){return C.ColorField.palettes[E-1]},renderColorGrid:function(){var I=C.cn("table");var G=C.cn("tbody");for(var H=0;H<this.squaresPerColumn;H++){var E=C.cn("tr");for(var F=0;F<this.squaresPerLine;F++){E.appendChild(C.cn("td",null,{backgroundColor:"#fff",lineHeight:"10px",cursor:"default"},"&nbsp;"));var J=C.cn("td",null,{backgroundColor:"#fff",lineHeight:"10px",cursor:"default"},"&nbsp;&nbsp;&nbsp;");if(H===(this.squaresPerColumn-1)&&F>=this.squaresOnLastLine){C.sn(J,null,{backgroundColor:"#fff",cursor:"default"})}else{C.sn(J,null,{backgroundColor:"#"+this.colors[H*this.squaresPerLine+F],cursor:"pointer"});A.addListener(J,"mousedown",this.onColorClick,this,true)}E.appendChild(J)}G.appendChild(E);G.appendChild(C.cn("tr",null,{height:"8px"}))}I.appendChild(G);return I},onColorClick:function(G){var F=A.getTarget(G);var E=B.getStyle(F,"background-color");B.setStyle(this.colorEl,"background-color",E);var H=function(I){var K=function(Q){var N=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");var M=16;var P=parseInt(Q,10);var O;var L="";if(!isNaN(P)){if(P==""){return"00"}while(P>0){O=0;while(P/Math.pow(M,O++)>=M){}L+=N[Math.floor(P/Math.pow(M,O-1))];if(P%M==0){L+="0"}P=(P%Math.pow(M,O-1))}if(L.length==1){return"0"+L}return L}else{return 0}};var J=I.split(/([(,)])/);return"#"+K(J[2])+K(J[4])+K(J[6])};this.el.value=H(E);this.visible=!this.visible;this.colorPopUp.style.display="none";this.fireUpdatedEvt()}});C.messages.selectColor="Select a color :";C.ColorField.palettes=[["FFEA99","FFFF66","FFCC99","FFCAB2","FF99AD","FFD6FF","FF6666","E8EEF7","ADC2FF","ADADFF","CCFFFF","D6EAAD","B5EDBC","CCFF99"],["55AAFF","FFAAFF","FF7FAA","FF0202","FFD42A","F9F93B","DF8181","FEE3E2","D47FFF","2AD4FF","2AFFFF","AAFFD4"],["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","F0F0F0"]];C.registerType("color",C.ColorField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.DateField=function(E){if(!E){var E={}}if(!E.messages){E.messages={}}if(!E.dateFormat){E.dateFormat="m/d/Y"}E.messages.invalid=C.messages.invalidDate;C.DateField.superclass.constructor.call(this,E)};D.extend(C.DateField,C.StringField,{setOptions:function(){this.options.className=this.options.className||"inputEx-DateField";C.DateField.superclass.setOptions.call(this)},validate:function(){var I=this.el.value;var H=I.split("/");if(H.length!=3){return false}if(isNaN(parseInt(H[0]))||isNaN(parseInt(H[1]))||isNaN(parseInt(H[2]))){return false}var J=this.options.dateFormat.split("/");if(H[J.indexOf("Y")].length!=4){return false}var L=parseInt(H[C.indexOf("d",J)],10);var K=parseInt(H[C.indexOf("Y",J)],10);var F=parseInt(H[C.indexOf("m",J)],10)-1;var G=new Date(K,F,L);var E=G.getFullYear();return((G.getDate()==L)&&(G.getMonth()==F)&&(E==K))},setValue:function(H){if(H===""){this.el.value="";return }var G="";if(H instanceof Date){G=this.options.dateFormat.replace("Y",H.getFullYear());var E=H.getMonth()+1;G=G.replace("m",((E<10)?"0":"")+E);var F=H.getDate();G=G.replace("d",((F<10)?"0":"")+F)}else{G=H}this.el.value=G},getValue:function(){if(this.el.value===""){return""}var F=this.el.value.split("/");var G=this.options.dateFormat.split("/");var I=parseInt(F[C.indexOf("d",G)],10);var H=parseInt(F[C.indexOf("Y",G)],10);var E=parseInt(F[C.indexOf("m",G)],10)-1;return(new Date(H,E,I))}});C.messages.invalidDate="Invalid date, ex: 03/27/2008";C.registerType("date",C.DateField)})();(function(){var A=YAHOO.inputEx;A.EmailField=function(B){A.EmailField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.EmailField,A.StringField,{setOptions:function(){A.EmailField.superclass.setOptions.call(this);this.options.messages.invalid=A.messages.invalidEmail;this.options.regexp=A.regexps.email},getValue:function(){return this.el.value.toLowerCase()}});A.messages.invalidEmail="Invalid email, ex: sample@test.com";A.registerType("email",A.EmailField)})();(function(){var A=YAHOO.inputEx;A.HiddenField=function(B){A.HiddenField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.HiddenField,A.Field,{render:function(){this.type=A.HiddenField;this.divEl=A.cn("div")},setValue:function(B){this.value=B},getValue:function(){return this.value}});A.registerType("hidden",A.HiddenField)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.InPlaceEdit=function(E){C.InPlaceEdit.superclass.constructor.call(this,E)};D.extend(C.InPlaceEdit,C.Field,{render:function(){this.divEl=C.cn("div",{className:this.options.className});this.renderVisuDiv();this.renderEditor()},renderEditor:function(){this.editorContainer=C.cn("div",null,{display:"none"});this.editorField=C.buildField(this.options.editorField);this.editorContainer.appendChild(this.editorField.getEl());B.setStyle(this.editorField.getEl(),"float","left");this.okButton=C.cn("input",{type:"button",value:"Ok"});B.setStyle(this.okButton,"float","left");this.editorContainer.appendChild(this.okButton);this.cancelLink=C.cn("a",null,null,"cancel");this.cancelLink.href="";B.setStyle(this.cancelLink,"float","left");this.editorContainer.appendChild(this.cancelLink);this.editorContainer.appendChild(C.cn("div",null,{clear:"both"}));this.divEl.appendChild(this.editorContainer)},onVisuMouseOver:function(E){if(this.colorAnim){this.colorAnim.stop(true)}C.sn(this.formattedContainer,null,{backgroundColor:"#eeee33"})},onVisuMouseOut:function(E){if(this.colorAnim){this.colorAnim.stop(true)}this.colorAnim=new YAHOO.util.ColorAnim(this.formattedContainer,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.colorAnim.onComplete.subscribe(function(){B.setStyle(this.formattedContainer,"background-color","")},this,true);this.colorAnim.animate()},renderVisuDiv:function(){this.formattedContainer=C.cn("div",{className:"inputEx-InPlaceEdit-formattedContainer"});if(D.isFunction(this.options.formatDom)){this.formattedContainer.appendChild(this.options.formatDom(this.options.value))}else{if(D.isFunction(this.options.formatValue)){this.formattedContainer.innerHTML=this.options.formatValue(this.options.value)}else{this.formattedContainer.innerHTML=D.isUndefined(this.options.value)?C.messages.emptyInPlaceEdit:this.options.value}}this.divEl.appendChild(this.formattedContainer)},initEvents:function(){A.addListener(this.formattedContainer,"click",this.openEditor,this,true);A.addListener(this.formattedContainer,"mouseover",this.onVisuMouseOver,this,true);A.addListener(this.formattedContainer,"mouseout",this.onVisuMouseOut,this,true);A.addListener(this.okButton,"click",this.onOkEditor,this,true);A.addListener(this.cancelLink,"click",this.onCancelEditor,this,true);if(this.editorField.el){A.addListener(this.editorField.el,"keyup",this.onKeyUp,this,true);A.addListener(this.editorField.el,"keydown",this.onKeyDown,this,true);A.addListener(this.editorField.el,"blur",this.onCancelEditor,this,true)}},onKeyUp:function(E){if(E.keyCode==13){this.onOkEditor()}if(E.keyCode==27){this.onCancelEditor(E)}},onKeyDown:function(E){if(E.keyCode==9){this.onOkEditor()}},onOkEditor:function(){var F=this.editorField.getValue();this.setValue(F);this.editorContainer.style.display="none";this.formattedContainer.style.display="";var E=this;setTimeout(function(){E.updatedEvt.fire(F)},50)},onCancelEditor:function(E){A.stopEvent(E);this.editorContainer.style.display="none";this.formattedContainer.style.display=""},openEditor:function(){var E=this.getValue();this.editorContainer.style.display="";this.formattedContainer.style.display="none";if(!D.isUndefined(E)){this.editorField.setValue(E)}this.editorField.focus();if(this.editorField.el&&D.isFunction(this.editorField.el.setSelectionRange)&&(!!E&&!!E.length)){this.editorField.el.setSelectionRange(0,E.length)}},getValue:function(){return this.value},setValue:function(E){this.value=E;if(D.isUndefined(E)||E==""){this.value="(Edit me)"}C.renderVisu(this.options.visu,this.value,this.formattedContainer)}});C.messages.emptyInPlaceEdit="(click to edit)";C.registerType("inplaceedit",C.InPlaceEdit)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Event;B.IntegerField=function(D){B.IntegerField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.IntegerField,B.StringField,{initEvents:function(){B.IntegerField.superclass.initEvents.call(this);var D=this;A.addListener(this.el,"keypress",function(E){setTimeout(function(){D.onInput(E)},50)})},onInput:function(D){this.setValue(this.getValue());this.setClassFromState()},setValue:function(D){if(isNaN(D)){this.el.value=""}else{if(C.isNumber(D)){this.el.value=Math.floor(D)}else{if(C.isString(D)){this.el.value=D.replace(/[^0-9]/g,"")}}}},getValue:function(){return parseInt(this.el.value,10)}});B.registerType("integer",B.IntegerField)})();(function(){var A=YAHOO.inputEx;A.IPv4Field=function(B){A.IPv4Field.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.IPv4Field,A.StringField,{setOptions:function(){A.IPv4Field.superclass.setOptions.call(this);this.options.messages.invalid=A.messages.invalidIPv4;this.options.regexp=A.regexps.ipv4}});A.messages.invalidIPv4="Invalid IPv4 address, ex: 192.168.0.1";A.registerType("IPv4",A.IPv4Field)})();(function(){var C=YAHOO.inputEx,D=YAHOO.lang,A=YAHOO.util.Event,B=YAHOO.util.Dom;C.ListField=function(E){this.subFields=[];C.ListField.superclass.constructor.call(this,E)};D.extend(C.ListField,C.Field,{setOptions:function(){C.ListField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-ListField";this.options.sortable=D.isUndefined(this.options.sortable)?false:this.options.sortable;this.options.elementType=this.options.elementType||{type:"string"}},renderComponent:function(){this.addButton=C.cn("img",{src:C.spacerUrl,className:"inputEx-ListField-addButton"});this.divEl.appendChild(this.addButton);this.divEl.appendChild(C.cn("span",null,{marginLeft:"4px"},this.options.listLabel));this.childContainer=C.cn("div",{className:"inputEx-ListField-childContainer"});this.divEl.appendChild(this.childContainer)},initEvents:function(){A.addListener(this.addButton,"click",this.onAddButton,this,true)},setValue:function(G){if(!D.isArray(G)){return }for(var F=0;F<G.length;F++){if(F==this.subFields.length){this.addElement(G[F])}else{this.subFields[F].setValue(G[F])}}var E=this.subFields.length-G.length;if(E>0){for(var F=0;F<E;F++){this.removeElement(G.length)}}},getValue:function(){var E=[];for(var F=0;F<this.subFields.length;F++){E[F]=this.subFields[F].getValue()}return E},addElement:function(F){var E=this.renderSubField(F);this.subFields.push(E);return E},onAddButton:function(F){A.stopEvent(F);var E=this.addElement();E.focus();this.fireUpdatedEvt()},renderSubField:function(L){var H=C.cn("div");var F=C.cn("img",{src:C.spacerUrl,className:"inputEx-ListField-delButton"});A.addListener(F,"click",this.onDelete,this,true);H.appendChild(F);var K=D.merge({},this.options.elementType);if(!K.inputParams){K.inputParams={}}if(L){K.inputParams.value=L}var I=C.buildField(K);var G=I.getEl();B.setStyle(G,"margin-left","4px");B.setStyle(G,"float","left");H.appendChild(G);I.updatedEvt.subscribe(this.onChange,this,true);if(this.options.sortable){var J=C.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowUp"});A.addListener(J,"click",this.onArrowUp,this,true);var E=C.cn("div",{className:"inputEx-ListField-Arrow inputEx-ListField-ArrowDown"});A.addListener(E,"click",this.onArrowDown,this,true);H.appendChild(J);H.appendChild(E)}H.appendChild(C.cn("div",null,{clear:"both"}));this.childContainer.appendChild(H);return I},onArrowUp:function(K){var H=A.getTarget(K).parentNode;var F=null;var G=-1;for(var I=1;I<H.parentNode.childNodes.length;I++){var E=H.parentNode.childNodes[I];if(E==H){F=H.parentNode.childNodes[I-1];G=I;break}}if(F){var L=this.childContainer.removeChild(H);var J=this.childContainer.insertBefore(L,F);var M=this.subFields[G];this.subFields[G]=this.subFields[G-1];this.subFields[G-1]=M;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(J,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},0.4);this.arrowAnim.onComplete.subscribe(function(){B.setStyle(J,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}},onArrowDown:function(K){var G=A.getTarget(K).parentNode;var F=-1;var J=null;for(var H=0;H<G.parentNode.childNodes.length;H++){var E=G.parentNode.childNodes[H];if(E==G){J=G.parentNode.childNodes[H+1];F=H;break}}if(J){var L=this.childContainer.removeChild(G);var I=B.insertAfter(L,J);var M=this.subFields[F];this.subFields[F]=this.subFields[F+1];this.subFields[F+1]=M;if(this.arrowAnim){this.arrowAnim.stop(true)}this.arrowAnim=new YAHOO.util.ColorAnim(I,{backgroundColor:{from:"#eeee33",to:"#eeeeee"}},1);this.arrowAnim.onComplete.subscribe(function(){B.setStyle(I,"background-color","")});this.arrowAnim.animate();this.fireUpdatedEvt()}},onDelete:function(I){A.stopEvent(I);var F=A.getTarget(I).parentNode;var E=-1;var H=F.childNodes[1];for(var G=0;G<this.subFields.length;G++){if(this.subFields[G].getEl()==H){E=G;break}}if(E!=-1){this.removeElement(E)}this.updatedEvt.fire(this.getValue())},removeElement:function(F){var E=this.subFields[F].getEl().parentNode;this.subFields[F]=undefined;this.subFields=C.compactArray(this.subFields);E.parentNode.removeChild(E)}});C.registerType("list",C.ListField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.NumberField=function(D){B.NumberField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.NumberField,B.StringField,{getValue:function(){return parseFloat(this.el.value)},validate:function(){var D=this.getValue();if(isNaN(D)){return false}var E=String(D);return E.match(/^(\+?((([0-9]+(\.)?)|([0-9]*\.[0-9]+))([eE][+-]?[0-9]+)?))$/)}});B.registerType("number",B.NumberField)})();(function(){var B=YAHOO.inputEx,C=YAHOO.lang,A=YAHOO.util.Dom;B.PairField=function(D){D.leftFieldOptions=D.leftFieldOptions||{};D.rightFieldOptions=D.rightFieldOptions||{};B.PairField.superclass.constructor.call(this,D)};C.extend(B.PairField,B.Field,{render:function(){B.PairField.superclass.render.call(this);this.divEl.appendChild(B.cn("div",null,{clear:"both"}))},renderComponent:function(){var G="string";if(this.options.leftFieldOptions.type){G=this.options.leftFieldOptions.type}var H=B.getFieldClass(G);var D="string";if(this.options.rightFieldOptions.type){D=this.options.rightFieldOptions.type}var F=B.getFieldClass(D);this.elLeft=new H(this.options.leftFieldOptions.inputParams||{});this.elRight=new F(this.options.rightFieldOptions.inputParams||{});A.setStyle(this.elLeft.getEl(),"float","left");this.divEl.appendChild(this.elLeft.getEl());var E=B.cn("span",null,null," : ");A.setStyle(E,"float","left");this.divEl.appendChild(E);this.divEl.appendChild(this.elRight.getEl());A.setStyle(this.elRight.getEl(),"float","left")},validate:function(){return(this.elLeft.validate()&&this.elRight.validate())},setValue:function(D){this.elLeft.setValue(D[0]);this.elRight.setValue(D[1])},getValue:function(){return[this.elLeft.getValue(),this.elRight.getValue()]}});B.registerType("pair",B.PairField)})();(function(){var A=YAHOO.inputEx;A.PasswordField=function(B){A.PasswordField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.PasswordField,A.StringField,{setOptions:function(){A.PasswordField.superclass.setOptions.call(this);this.options.regexp=A.regexps.password;this.options.minLength=(this.options.minLength==undefined)?5:this.options.minLength;this.options.messages.invalid=A.messages.invalidPassword[0]+this.options.minLength+A.messages.invalidPassword[1]},renderComponent:function(){var B={};B.type="password";B.size=this.options.size;if(this.options.name){B.name=this.options.name}this.el=A.cn("input",B);this.divEl.appendChild(this.el)},setConfirmationField:function(B){this.options.confirmPasswordField=B;this.options.messages.invalid=A.messages.invalidPasswordConfirmation;this.options.confirmPasswordField.options.confirmationPasswordField=this},validate:function(){if(this.options.confirmPasswordField){return(this.options.confirmPasswordField.getValue()==this.getValue())}else{var C=A.PasswordField.superclass.validate.call(this);var B=this.getValue().length>=this.options.minLength;return C&&B}},onInput:function(B){A.PasswordField.superclass.onInput.call(this,B);if(this.options.confirmationPasswordField){this.options.confirmationPasswordField.setClassFromState()}}});A.messages.invalidPassword=["The password schould contain at least "," numbers or caracters"];A.messages.invalidPasswordConfirmation="Passwords are different !";A.registerType("password",A.PasswordField)})();(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.RTEField=function(C){A.RTEField.superclass.constructor.call(this,C)};B.extend(A.RTEField,A.Field,{render:function(){this.divEl=A.cn("div",{className:this.options.className});if(!A.RTEfieldsNumber){A.RTEfieldsNumber=0}var G="inputEx-RTEField-"+A.RTEfieldsNumber;this.el=A.cn("textarea",{id:G});A.RTEfieldsNumber+=1;this.divEl.appendChild(this.el);if(!this.options.opts){this.options.opts={}}var E={height:"300px",width:"522px",dompath:true};var F=this.options.opts;for(var D in F){if(B.hasOwnProperty(F,D)){E[D]=F[D]}}var C=((this.options.type&&(this.options.type=="simple"))?YAHOO.widget.SimpleEditor:YAHOO.widget.Editor);if(C){this.editor=new C(G,E);this.editor.render()}else{alert("Editor is not on the page")}},setValue:function(C){if(this.editor){this.editor.setEditorHTML(C)}},getValue:function(){try{return this.editor.getEditorHTML()}catch(C){}}});A.registerType("html",A.RTEField)})();(function(){var A=YAHOO.inputEx;A.SelectField=function(B){A.SelectField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.SelectField,A.Field,{renderComponent:function(){this.el=A.cn("select",{name:this.options.name||""});if(this.options.multiple){this.el.multiple=true;this.el.size=this.options.selectValues.length}this.optionEls=[];for(var B=0;B<this.options.selectValues.length;B++){this.optionEls[B]=A.cn("option",{value:this.options.selectValues[B]},null,(this.options.selectOptions)?this.options.selectOptions[B]:this.options.selectValues[B]);this.el.appendChild(this.optionEls[B])}this.divEl.appendChild(this.el)},initEvents:function(){YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true)},setValue:function(E){var B=0;var D;for(var C=0;C<this.options.selectValues.length;C++){if(E===this.options.selectValues[C]){D=this.el.childNodes[C];D.selected="selected"}}},getValue:function(){return this.options.selectValues[this.el.selectedIndex]}});A.registerType("select",A.SelectField)})();(function(){var A=YAHOO.inputEx;A.Textarea=function(B){A.Textarea.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.Textarea,A.Field,{initEvents:function(){YAHOO.util.Event.addListener(this.el,"change",this.onChange,this,true)},setOptions:function(){A.Textarea.superclass.setOptions.call(this);this.options.rows=this.options.rows||6;this.options.cols=this.options.cols||23},renderComponent:function(){this.el=A.cn("textarea",{rows:this.options.rows,cols:this.options.cols},null,this.options.value);this.divEl.appendChild(this.el)},setValue:function(B){this.el.value=B},getValue:function(){return this.el.value}});A.registerType("text",A.Textarea)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.TimeField=function(D){B.TimeField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.TimeField,B.Field,{render:function(){B.TimeField.superclass.render.call(this);this.divEl.appendChild(B.cn("div",null,{clear:"both"},""))},renderComponent:function(){var J=[];for(var F=0;F<24;F++){var I="";if(F<10){I="0"}I+=F;J.push(I)}this.hoursField=new B.SelectField({name:"hours",selectOptions:J,selectValues:J});var H=this.hoursField.getEl();YAHOO.util.Dom.setStyle(H,"float","left");this.divEl.appendChild(H);var D=[];for(var F=0;F<60;F++){var I="";if(F<10){I="0"}I+=F;D.push(I)}this.minutesField=new B.SelectField({name:"minutes",selectOptions:D,selectValues:D});var H=this.minutesField.getEl();YAHOO.util.Dom.setStyle(H,"float","left");var G=B.cn("span",null,null,":");YAHOO.util.Dom.setStyle(G,"float","left");this.divEl.appendChild(G);this.divEl.appendChild(H);var E=[];for(var F=0;F<60;F++){var I="";if(F<10){I="0"}I+=F;E.push(I)}this.secondsField=new B.SelectField({name:"seconds",selectOptions:E,selectValues:E});var H=this.secondsField.getEl();YAHOO.util.Dom.setStyle(H,"float","left");var G=B.cn("span",null,null,":");YAHOO.util.Dom.setStyle(G,"float","left");this.divEl.appendChild(G);this.divEl.appendChild(H)},getValue:function(){return([this.hoursField.getValue(),this.minutesField.getValue(),this.secondsField.getValue()]).join(":")},setValue:function(E){var D=E.split(":");this.hoursField.setValue(D[0]);this.minutesField.setValue(D[1]);this.secondsField.setValue(D[2])}});B.registerType("time",B.TimeField)})();(function(){var B=YAHOO.inputEx,A=YAHOO.util.Event,C=YAHOO.lang;B.DateTimeField=function(D){B.DateTimeField.superclass.constructor.call(this,D)};YAHOO.lang.extend(B.DateTimeField,B.Field,{render:function(){B.DateTimeField.superclass.render.call(this);this.divEl.appendChild(B.cn("div",null,{clear:"both"},""))},renderComponent:function(){this.dateField=new B.DateField({name:"date"});var D=this.dateField.getEl();YAHOO.util.Dom.setStyle(D,"float","left");YAHOO.util.Dom.setStyle(D,"margin-right","10px");this.divEl.appendChild(D);this.timeField=new B.TimeField({name:"time"});var D=this.timeField.getEl();YAHOO.util.Dom.setStyle(D,"float","left");this.divEl.appendChild(D)},getValue:function(){var E=this.dateField.getValue();if(E==""){return null}var D=this.timeField.getValue().split(":");E.setHours(D[0]);E.setMinutes(D[1]);E.setSeconds(D[2]);return E},setValue:function(D){this.dateField.setValue(D);this.timeField.setValue(([D.getHours(),D.getMinutes(),D.getSeconds()]).join(":"))}});B.registerType("datetime",B.DateTimeField)})();(function(){var A=YAHOO.inputEx;A.UneditableField=function(B){A.UneditableField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.UneditableField,A.Field,{render:function(){this.divEl=A.cn("div")},setValue:function(B){this.value=B;A.renderVisu(this.options.visu,B,this.divEl)},getValue:function(){return this.value}});A.registerType("uneditable",A.UneditableField)})();(function(){var A=YAHOO.inputEx;A.UpperCaseField=function(B){A.UpperCaseField.superclass.constructor.call(this,B)};YAHOO.lang.extend(A.UpperCaseField,A.StringField,{setValue:function(B){this.el.value=B.toUpperCase()},onInput:function(B){this.setValue((this.getValue()));this.setClassFromState()}})})();(function(){var A=YAHOO.inputEx,B=YAHOO.lang;A.UrlField=function(C){A.UrlField.superclass.constructor.call(this,C)};B.extend(A.UrlField,A.StringField,{setOptions:function(){A.UrlField.superclass.setOptions.call(this);this.options.className="inputEx-Field inputEx-UrlField";this.options.messages.invalid=A.messages.invalidUrl;this.options.favicon=B.isUndefined(this.options.favicon)?true:this.options.favicon},setValue:function(C){this.el.value=C;this.validate()},render:function(){A.UrlField.superclass.render.call(this);this.el.size=27;if(this.options.favicon){this.favicon=A.cn("img");this.divEl.insertBefore(this.favicon,this.el)}},validate:function(){var D=this.getValue().match(A.regexps.url);if(this.options.favicon){var C=D?(D[0]+"/favicon.ico"):A.spacerUrl;if(C!=this.favicon.src){A.sn(this.favicon,null,{visibility:"hidden"});this.favicon.src=C;if(this.timer){clearTimeout(this.timer)}var E=this;this.timer=setTimeout(function(){E.displayFavicon()},1000)}}return !!D},displayFavicon:function(){A.sn(this.favicon,null,{visibility:(this.favicon.naturalWidth!=0)?"visible":"hidden"})}});A.messages.invalidUrl="Invalid URL, ex: http://www.test.com";A.registerType("url",A.UrlField)})()