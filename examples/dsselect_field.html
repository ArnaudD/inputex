<!DOCTYPE html>
<html>
 <head>
  <title>inputEx - DSSelectField Usage</title>
 </head>

 <body>

<h1>inputEx - DSSelectField Usage</h1>


<!-- Example 1 -->
<div class='exampleDiv'>

	<h2>Using a DataSource</h2>
	
	<p>How to populate the selectField using a <a href="http://developer.yahoo.com/yui/datasource/" target="_new">YUI datasource</a> (from local data, XHR, JSONP, function, ...):</p>

	<div class='demoContainer' id='container1'></div>

	<div class='codeContainer'>
		<pre class="brush:js">
		  var YAHOO = Y.YUI2;
		  
			var myDataSource = new YAHOO.util.XHRDataSource("books.json"); 
			myDataSource.responseType = YAHOO.util.DataSource.TYPE_JSON;
			myDataSource.responseSchema = { fields: ["id","quantity","amount","title", "category"], resultsList: "Results" };
			
			new Y.inputEx.DSSelectField({name: 'country', datasource: myDataSource, valueKey: "id", labelKey: "title", parentEl: 'container1'});
		</pre>
	</div>

</div>



<!-- Example 2 -->
<div class='exampleDiv'>

	<h2>Updated event</h2>
	
	<p>How to listen to the updated event :</p>

	<div class='demoContainer' id='container2'></div>

	<div class='codeContainer'>
				<pre class="brush:js">
				  var YAHOO = Y.YUI2;
				  
					var myDataSource = new YAHOO.util.XHRDataSource("books.json"); 
					myDataSource.responseType = YAHOO.util.DataSource.TYPE_JSON;
					myDataSource.responseSchema = { fields: ["id","quantity","amount","title", "category"], resultsList: "Results" };
					
					var el = Y.one('#container2');
					var field2 = new Y.inputEx.DSSelectField({name: 'country', datasource: myDataSource, valueKey: "id", labelKey: "title", parentEl: el});
					
					var logDiv = inputEx.cn('div', null, null, "Log :");
					el.appendChild(logDiv);
					field2.on('updated', function(value) {
						logDiv.innerHTML += "Updated at "+(new Date())+" with value "+value;
						logDiv.appendChild(inputEx.cn('br'));
					});
		</pre>
			</div>

</div>



<!-- Example 3 -->
<div class='exampleDiv'>

	<h2>Set Value</h2>
	
	<p>How to set the value :</p>

	<div class='demoContainer' id='container3'></div>

	<div class='codeContainer'>
				<pre class="brush:js">
				  var YAHOO = Y.YUI2;
				  
					var myDataSource = new YAHOO.util.XHRDataSource("books.json"); 
					myDataSource.responseType = YAHOO.util.DataSource.TYPE_JSON;
					myDataSource.responseSchema = { fields: ["id","quantity","amount","title", "category"], resultsList: "Results" };
					
					var el = Y.one('#container3');
					var field3 = new Y.inputEx.DSSelectField({name: 'country', datasource: myDataSource, valueKey: "id", labelKey: "title", parentEl: el});
					
					var setValueButton = inputEx.cn('button', null, null, "setValue to po-1482");
					el.appendChild(setValueButton);
					YAHOO.util.Event.addListener(setValueButton, 'click', function(e,params) {
						field3.setValue("po-1482");
					});
		</pre>
			</div>

</div>

<script src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js"></script>
<script src="../js/loader.js"  type='text/javascript'></script>
<script>
YUI_config.groups.inputex.base = '../';
YUI().use('inputex-dsselect', 'inputex-examples');
</script>

 </body>
</html>