<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>InputEx - using XML, example with RSS</title>	
<script src="../lib/XML/ObjTree.js"></script>
</head>
<body>
	
	<div id="formContainer" class='exampleDiv'></div>

<script src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js"></script>
<script src="../js/loader.js"  type='text/javascript'></script>
<script>

  YUI_config.groups.inputex.base = '../';
  YUI().use('inputex-form','inputex-email','inputex-url', 'inputex-select','inputex-integer', 'inputex-number','inputex-list', 'io', function(Y) {
	
var rssFormDef = {
	type: 'group',
	parentEl: 'formContainer',
	fields: [
		{type: 'number', label: 'Version', name: '-version' },
		{
		   type: 'group',
			name: 'channel',
			fields: [
				{type: 'string', label: 'Title', name: 'title'},
				{type: 'string', label: 'Description', name: 'description'},
				{type: 'url', label: 'Link', name: 'link'},
				{type: 'select', label: 'Language', name: 'language', choices: ['en', 'fr']},
				{
				   type: 'list',
				   name: 'item',
				   useButtons: true,
				   elementType:{
					   type: 'group',
   					fields: [
   						{type: 'string', label: 'Title', name: 'title'},
   						{type: 'string', label: 'Description', name: 'description'},
   						{type: 'string', label: 'Link', name: 'link'}
   					]
				   }
				}
			]
		}
	]
};

		var rssForm = Y.inputEx(rssFormDef);
		
		// Get the rss and populate the form
		Y.io('rss-example.xml', {
		  method: 'GET',
		  on: {
			  success: function(id, o, args) {
				  var xotree = new XML.ObjTree();
			    var tree = xotree.parseXML( o.responseText );
				  rssForm.setValue(tree.rss);
			  }
		  }
		});
   
});
</script>
</body>
</html>
